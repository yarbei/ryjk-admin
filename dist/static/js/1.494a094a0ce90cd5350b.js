webpackJsonp([1,5,6,7,9,11,14,23,24,27,28,31],{"+2Mg":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("mvHQ"),l=a.n(o),s=a("kMct"),n=a("EMXe"),i=a("Q338"),r={components:{ElButton:n.a,ElCol:s.a,tabHeader:i.a},name:"default",data:function(){return{form:{visitAuthor:"",patientId:"",motionNum:0,motionLength:0,visitRecordContent:{reactions:{},dosages:[{value:"",frequency:0,dose:0}]}},sfstatus:[{value:"0",label:"未完成"},{value:"1",label:"已完成"}],sfresult:[{value:"0",label:"非有效随访"},{value:"1",label:"有效随访"},{value:"2",label:"勿访"},{value:"3",label:"终止随访"}],sftype:[{value:"1",label:"电话随访"},{value:"2",label:"在线随访"},{value:"3",label:"短信随访"}],sfdischargeStatus:[{value:"0",label:"其他市级医院"},{value:"1",label:"乡镇卫生医院治疗"},{value:"2",label:"村卫生室治疗"},{value:"3",label:"回家康复"},{value:"4",label:"痊愈回家"}],sfassessment:[{value:"1",label:"并发症"},{value:"2",label:"相关指标控制不住"},{value:"3",label:"控制不满意"},{value:"4",label:"控制满意"},{value:"5",label:"不良生活方式未改善"}],sfsymptom:[{value:"0",label:"无症状"},{value:"1",label:"有症状",children:[]}],sflifeAssessment:[{value:"0",label:"无改善"},{value:"1",label:"有改善"}],sfsmokingVolume:[{value:"0",label:"未戒烟"},{value:"1",label:"已戒烟"}],sfalcoholConsumption:[{value:"0",label:"未减量"},{value:"1",label:"已减量"}],sfregion:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfmedicalCompliance:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfcomplication:[{value:"0",label:"无并发症"},{value:"1",label:"有并发症 "}],sfbfz:[],sfbfzName:[],bfz:{multiple:!0},sfmedicationCompliance:[{value:"0",label:"不服药"},{value:"1",label:"部分依从"},{value:"2",label:"完全依从"}],sfreactions:[{value:"0",label:"无不良反应"},{value:"1",label:"有不良反应"}],sfhealthGuidance:[{value:"1",label:"是"},{value:"0",label:"否"}],sfhealthGuidanceContent:[{value:"1",label:"饮食指导"},{value:"2",label:"用药指导"},{value:"3",label:"注意事项"},{value:"4",label:"心理指导"},{value:"5",label:"睡眠指导"},{value:"6",label:"康复指导"},{value:"7",label:"戒烟限酒指导"}],sfreminderRevisit:[{value:"1",label:"已提醒"},{value:"0",label:"未提醒"}],sfappointmentRevisit:[{value:"1",label:"已预约"},{value:"0",label:"未预约"}],sfdepartment:[{value:"0",label:"否"},{value:"1",label:"是",children:[]}],sfhealthAwareness:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"},{value:"3",label:"优秀"}],sfsatisfactionSurvey:[{value:"0",label:"不满意"},{value:"1",label:"基本满意"},{value:"2",label:"满意"},{value:"3",label:"非常满意"}],isReactions:!1,isSmokingAmount:!1,isAlcoholConsumptionAmount:!1,isAppointmentRevisit:!1,ishealthGuidanceContent:!1,iscomplication:!1,iscomplicationName:!1,bfzClassify:"",complicationName:"",personInfoId:"",personInfo:{}}},created:function(){this.personInfoId=this.$route.params.id,this.personInfo=JSON.parse(sessionStorage.getItem("personInfo")),this.getMedicalList(),this.getSymptomList()},mounted:function(){},methods:{reactionsChange:function(e){this.isReactions=1==e},smokingVolumeChange:function(e){this.isSmokingAmount=0==e},alcoholConsumptionChange:function(e){this.isAlcoholConsumptionAmount=0==e},appointmentRevisitChange:function(e){this.isAppointmentRevisit=1==e},healthGuidanceChange:function(e){this.ishealthGuidanceContent=1==e},complicationChange:function(e){1==e?(this.iscomplication=!0,this.getComplicationList()):this.iscomplication=!1},addDosage:function(){this.form.visitRecordContent.dosages.push({value:"",frequency:0,dose:0})},removeDosage:function(e){var t;-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1),-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1)},bfzChange:function(e){var t=this;this.iscomplicationName=!!e,this.$http.get("/api/common/getDataList?dataType=2&dataNum="+e).then(function(e){t.sfbfzName=e.data}).catch(function(e){console.log(e)})},onSubmit:function(){var e=this;if(""!==this.form.type){var t=this.form;if(t.patientId=this.personInfo.id,t.visitAuthor=this.$store.state.user.user.id,t.motionLength=Number(this.form.motionLength),t.motionNum=Number(this.form.motionNum),t.healthGuidanceContent instanceof Array&&(t.healthGuidanceContent=this.form.healthGuidanceContent.join(",")),t.complication instanceof Array){t.complication=this.form.complication.join(",");var a=l()(t.visitRecordContent);t.visitRecordContent=a}this.$http.post("/api/visitRecord/insertVisitRecord",t).then(function(a){t.healthGuidanceContent=[],a.data?(e.$message.success("新增随访成功！"),setTimeout(function(){e.$router.replace({name:"EssentialInfo",params:{selectId:"sfjl"}})},1500)):e.$message.error("新增随访失败！")}).catch(function(a){e.$message.error("随访新增失败！"),t.healthGuidanceContent=[],console.log(a)})}else this.$message.warning("随访方式未选择！")},cancelBtn:function(){this.$router.go(-1)},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},handleChange:function(e){console.log(e)},getMedicalList:function(){var e=this;this.$http.get("/api/medicalSections/getMedicalSectionsList?hospitalId="+this.$store.state.user.user.hospitalId.id).then(function(t){e.sfdepartment[1].children=t.data}).catch(function(e){console.log(e)})},getSymptomList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=1").then(function(t){e.sfsymptom[1].children=t.data}).catch(function(e){console.log(e)})},getComplicationList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=2").then(function(t){e.sfbfz=t.data}).catch(function(e){console.log(e)})},handleClick:function(e,t){console.log(e,t)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("4 类风湿模板")]),e._v(" "),a("tab-header",{attrs:{personInfo:e.personInfo}}),e._v(" "),a("el-form",{ref:"form",staticClass:"createVisit_form",attrs:{model:e.form,"label-width":"135px"}},[a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访状态 : "}},[a("el-cascader",{attrs:{options:e.sfstatus,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访结果 : "}},[a("el-cascader",{attrs:{options:e.sfresult,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访方式 : "}},[a("el-cascader",{attrs:{options:e.sftype,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出院/转出情况:"}},[a("el-cascader",{attrs:{placeholder:"请选择出院/转出情况",options:e.sfdischargeStatus,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.dischargeStatus,callback:function(t){e.$set(e.form,"dischargeStatus",t)},expression:"form.dischargeStatus"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"本次随访评估:"}},[a("el-cascader",{attrs:{options:e.sfassessment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.assessment,callback:function(t){e.$set(e.form,"assessment",t)},expression:"form.assessment"}})],1)],1)],1),e._v(" "),a("h2",[e._v("项目随访情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"请选择症状 : "}},[a("el-cascader",{attrs:{options:e.sfsymptom,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.symptom,callback:function(t){e.$set(e.form,"symptom",t)},expression:"form.symptom"}})],1)],1)],1),e._v(" "),a("h2",[e._v("生活方式")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"总体评估 : "}},[a("el-cascader",{attrs:{options:e.sflifeAssessment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.visitRecordContent.lifeAssessment,callback:function(t){e.$set(e.form.visitRecordContent,"lifeAssessment",t)},expression:"form.visitRecordContent.lifeAssessment"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"吸烟量 : "}},[a("el-cascader",{attrs:{options:e.sfsmokingVolume,props:{emitPath:!1}},on:{change:e.smokingVolumeChange},model:{value:e.form.smokingVolume,callback:function(t){e.$set(e.form,"smokingVolume",t)},expression:"form.smokingVolume"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isSmokingAmount,expression:"isSmokingAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"支/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.smokingAmount,callback:function(t){e.$set(e.form.visitRecordContent,"smokingAmount",t)},expression:"form.visitRecordContent.smokingAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"饮酒量 : "}},[a("el-cascader",{attrs:{options:e.sfalcoholConsumption,props:{emitPath:!1}},on:{change:e.alcoholConsumptionChange},model:{value:e.form.alcoholConsumption,callback:function(t){e.$set(e.form,"alcoholConsumption",t)},expression:"form.alcoholConsumption"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isAlcoholConsumptionAmount,expression:"isAlcoholConsumptionAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"ML/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.alcoholConsumptionAmount,callback:function(t){e.$set(e.form.visitRecordContent,"alcoholConsumptionAmount",t)},expression:"form.visitRecordContent.alcoholConsumptionAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"膳食脂肪"}},[a("el-input",{model:{value:e.form.dietaryFat,callback:function(t){e.$set(e.form,"dietaryFat",t)},expression:"form.dietaryFat"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(次/周)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionNum,callback:function(t){e.$set(e.form,"motionNum",t)},expression:"form.motionNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(分钟/次)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionLength,callback:function(t){e.$set(e.form,"motionLength",t)},expression:"form.motionLength"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"摄盐情况(克/天)"}},[a("el-input",{model:{value:e.form.saltUptake,callback:function(t){e.$set(e.form,"saltUptake",t)},expression:"form.saltUptake"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"心理调整 : "}},[a("el-cascader",{attrs:{options:e.sfregion,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"医从性 : "}},[a("el-cascader",{attrs:{options:e.sfmedicalCompliance,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.medicalCompliance,callback:function(t){e.$set(e.form,"medicalCompliance",t)},expression:"form.medicalCompliance"}})],1)],1)],1),e._v(" "),a("h2",[e._v("并发症")]),e._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否有并发症状 : "}},[a("el-cascader",{attrs:{options:e.sfcomplication},on:{change:e.complicationChange}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplication,expression:"iscomplication"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"并发症 : "}},[a("el-select",{on:{change:e.bfzChange},model:{value:e.bfzClassify,callback:function(t){e.bfzClassify=t},expression:"bfzClassify"}},e._l(e.sfbfz,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplicationName,expression:"iscomplicationName"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"具体症状："}},[a("el-cascader",{attrs:{options:e.sfbfzName,props:e.bfz},model:{value:e.form.complication,callback:function(t){e.$set(e.form,"complication",t)},expression:"form.complication"}})],1)],1)],1),e._v(" "),a("h2",[e._v("用药情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"依从性 : "}},[a("el-cascader",{attrs:{options:e.sfmedicationCompliance,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.medicationCompliance,callback:function(t){e.$set(e.form,"medicationCompliance",t)},expression:"form.medicationCompliance"}})],1)],1)],1),e._v(" "),e._l(e.form.visitRecordContent.dosages,function(t,o){return a("el-row",{key:o},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"药物名称"}},[a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"dosage.value"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"次/日"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"次"},model:{value:t.frequency,callback:function(a){e.$set(t,"frequency",a)},expression:"dosage.frequency"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"mg/次"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"mg"},model:{value:t.dose,callback:function(a){e.$set(t,"dose",a)},expression:"dosage.dose"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-button",{on:{click:function(a){return a.preventDefault(),e.removeDosage(t)}}},[e._v("删除")])],1)],1)],1)}),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-button",{on:{click:function(t){return t.preventDefault(),e.addDosage(t)}}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"药物不良反应 : "}},[a("el-cascader",{attrs:{options:e.sfreactions,props:{emitPath:!1}},on:{change:e.reactionsChange},model:{value:e.form.visitRecordContent.reactions.value,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"value",t)},expression:"form.visitRecordContent.reactions.value"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isReactions,expression:"isReactions"}],attrs:{span:16}},[a("el-form-item",{attrs:{label:"不良反应："}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.visitRecordContent.reactions.desc,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"desc",t)},expression:"form.visitRecordContent.reactions.desc"}})],1)],1)],1),e._v(" "),a("h2",[e._v("异常化验项目")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"白细胞"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.whiteBloodCell,callback:function(t){e.$set(e.form.visitRecordContent,"whiteBloodCell",t)},expression:"form.visitRecordContent.whiteBloodCell"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血小板"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.platelet,callback:function(t){e.$set(e.form.visitRecordContent,"platelet",t)},expression:"form.visitRecordContent.platelet"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钾"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodPotassium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodPotassium",t)},expression:"form.visitRecordContent.bloodPotassium"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钙"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodCalcium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodCalcium",t)},expression:"form.visitRecordContent.bloodCalcium"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"凝血"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.blood_coagulation,callback:function(t){e.$set(e.form.visitRecordContent,"blood_coagulation",t)},expression:"form.visitRecordContent.blood_coagulation"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"甘油三脂"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.threeFat,callback:function(t){e.$set(e.form.visitRecordContent,"threeFat",t)},expression:"form.visitRecordContent.threeFat"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"其他"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.other,callback:function(t){e.$set(e.form.visitRecordContent,"other",t)},expression:"form.visitRecordContent.other"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"随访备注 : "}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("h2",[e._v("健康教育知晓")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否进行健康指导 : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidance,props:{emitPath:!1}},on:{change:e.healthGuidanceChange},model:{value:e.form.visitRecordContent.healthGuidance,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidance",t)},expression:"form.visitRecordContent.healthGuidance"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.ishealthGuidanceContent,expression:"ishealthGuidanceContent"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康指导内容  : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidanceContent,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.visitRecordContent.healthGuidanceContent,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidanceContent",t)},expression:"form.visitRecordContent.healthGuidanceContent"}})],1)],1)],1),e._v(" "),a("h2",[e._v("随访记录")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已提醒复诊 : "}},[a("el-cascader",{attrs:{options:e.sfreminderRevisit,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.reminderRevisit,callback:function(t){e.$set(e.form,"reminderRevisit",t)},expression:"form.reminderRevisit"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已预约复诊 : "}},[a("el-cascader",{attrs:{options:e.sfappointmentRevisit,props:{emitPath:!1}},on:{change:e.appointmentRevisitChange},model:{value:e.form.appointmentRevisit,callback:function(t){e.$set(e.form,"appointmentRevisit",t)},expression:"form.appointmentRevisit"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.isAppointmentRevisit,expression:"isAppointmentRevisit"}],attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"预约科室 : "}},[a("el-cascader",{attrs:{options:e.sfdepartment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"复诊时间 : "}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",required:""},model:{value:e.form.revisitTime,callback:function(t){e.$set(e.form,"revisitTime",t)},expression:"form.revisitTime"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康知晓度 : "}},[a("el-cascader",{attrs:{options:e.sfhealthAwareness,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.healthAwareness,callback:function(t){e.$set(e.form,"healthAwareness",t)},expression:"form.healthAwareness"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"满意度调研 : "}},[a("el-cascader",{attrs:{options:e.sfsatisfactionSurvey,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.satisfactionSurvey,callback:function(t){e.$set(e.form,"satisfactionSurvey",t)},expression:"form.satisfactionSurvey"}})],1)],1)],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("完成随访")]),e._v(" "),a("el-button",{on:{click:e.cancelBtn}},[e._v("取消")])],1)],2)],1)},staticRenderFns:[]};var m=a("VU/8")(r,c,!1,function(e){a("co5M")},"data-v-c6f9c78e",null);t.default=m.exports},"30hB":function(e,t){},EEv2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("mvHQ"),l=a.n(o),s=a("kMct"),n=a("EMXe"),i=a("Q338"),r={components:{ElButton:n.a,ElCol:s.a,tabHeader:i.a},name:"default",data:function(){return{form:{visitAuthor:"",patientId:"",motionNum:0,motionLength:0,visitRecordContent:{reactions:{},dosages:[{value:"",frequency:0,dose:0}]}},sfstatus:[{value:"0",label:"未完成"},{value:"1",label:"已完成"}],sfresult:[{value:"0",label:"非有效随访"},{value:"1",label:"有效随访"},{value:"2",label:"勿访"},{value:"3",label:"终止随访"}],sftype:[{value:"1",label:"电话随访"},{value:"2",label:"在线随访"},{value:"3",label:"短信随访"}],sfdischargeStatus:[{value:"0",label:"其他市级医院"},{value:"1",label:"乡镇卫生医院治疗"},{value:"2",label:"村卫生室治疗"},{value:"3",label:"回家康复"},{value:"4",label:"痊愈回家"}],sfassessment:[{value:"1",label:"并发症"},{value:"2",label:"相关指标控制不住"},{value:"3",label:"控制不满意"},{value:"4",label:"控制满意"},{value:"5",label:"不良生活方式未改善"}],sfsymptom:[{value:"0",label:"无症状"},{value:"1",label:"有症状",children:[]}],sflifeAssessment:[{value:"0",label:"无改善"},{value:"1",label:"有改善"}],sfsmokingVolume:[{value:"0",label:"未戒烟"},{value:"1",label:"已戒烟"}],sfalcoholConsumption:[{value:"0",label:"未减量"},{value:"1",label:"已减量"}],sfregion:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfmedicalCompliance:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfcomplication:[{value:"0",label:"无并发症"},{value:"1",label:"有并发症 "}],sfbfz:[],sfbfzName:[],bfz:{multiple:!0},sfmedicationCompliance:[{value:"0",label:"不服药"},{value:"1",label:"部分依从"},{value:"2",label:"完全依从"}],sfreactions:[{value:"0",label:"无不良反应"},{value:"1",label:"有不良反应"}],sfhealthGuidance:[{value:"1",label:"是"},{value:"0",label:"否"}],sfhealthGuidanceContent:[{value:"1",label:"饮食指导"},{value:"2",label:"用药指导"},{value:"3",label:"注意事项"},{value:"4",label:"心理指导"},{value:"5",label:"睡眠指导"},{value:"6",label:"康复指导"},{value:"7",label:"戒烟限酒指导"}],sfreminderRevisit:[{value:"1",label:"已提醒"},{value:"0",label:"未提醒"}],sfappointmentRevisit:[{value:"1",label:"已预约"},{value:"0",label:"未预约"}],sfdepartment:[{value:"0",label:"否"},{value:"1",label:"是",children:[]}],sfhealthAwareness:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"},{value:"3",label:"优秀"}],sfsatisfactionSurvey:[{value:"0",label:"不满意"},{value:"1",label:"基本满意"},{value:"2",label:"满意"},{value:"3",label:"非常满意"}],isReactions:!1,isSmokingAmount:!1,isAlcoholConsumptionAmount:!1,isAppointmentRevisit:!1,ishealthGuidanceContent:!1,iscomplication:!1,iscomplicationName:!1,bfzClassify:"",complicationName:"",personInfoId:"",personInfo:{}}},created:function(){this.personInfoId=this.$route.params.id,this.personInfo=JSON.parse(sessionStorage.getItem("personInfo")),this.getMedicalList(),this.getSymptomList()},mounted:function(){},methods:{reactionsChange:function(e){this.isReactions=1==e},smokingVolumeChange:function(e){this.isSmokingAmount=0==e},alcoholConsumptionChange:function(e){this.isAlcoholConsumptionAmount=0==e},appointmentRevisitChange:function(e){this.isAppointmentRevisit=1==e},healthGuidanceChange:function(e){this.ishealthGuidanceContent=1==e},complicationChange:function(e){1==e?(this.iscomplication=!0,this.getComplicationList()):this.iscomplication=!1},addDosage:function(){this.form.visitRecordContent.dosages.push({value:"",frequency:0,dose:0})},removeDosage:function(e){var t;-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1),-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1)},bfzChange:function(e){var t=this;this.iscomplicationName=!!e,this.$http.get("/api/common/getDataList?dataType=2&dataNum="+e).then(function(e){t.sfbfzName=e.data}).catch(function(e){console.log(e)})},onSubmit:function(){var e=this;if(""!==this.form.type){var t=this.form;if(t.patientId=this.personInfo.id,t.visitAuthor=this.$store.state.user.user.id,t.motionLength=Number(this.form.motionLength),t.motionNum=Number(this.form.motionNum),t.healthGuidanceContent instanceof Array&&(t.healthGuidanceContent=this.form.healthGuidanceContent.join(",")),t.complication instanceof Array){t.complication=this.form.complication.join(",");var a=l()(t.visitRecordContent);t.visitRecordContent=a}this.$http.post("/api/visitRecord/insertVisitRecord",t).then(function(a){t.healthGuidanceContent=[],a.data?(e.$message.success("新增随访成功！"),setTimeout(function(){e.$router.replace({name:"EssentialInfo",params:{selectId:"sfjl"}})},1500)):e.$message.error("新增随访失败！")}).catch(function(a){e.$message.error("随访新增失败！"),t.healthGuidanceContent=[],console.log(a)})}else this.$message.warning("随访方式未选择！")},cancelBtn:function(){this.$router.go(-1)},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},handleChange:function(e){console.log(e)},getMedicalList:function(){var e=this;this.$http.get("/api/medicalSections/getMedicalSectionsList?hospitalId="+this.$store.state.user.user.hospitalId.id).then(function(t){e.sfdepartment[1].children=t.data}).catch(function(e){console.log(e)})},getSymptomList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=1").then(function(t){e.sfsymptom[1].children=t.data}).catch(function(e){console.log(e)})},getComplicationList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=2").then(function(t){e.sfbfz=t.data}).catch(function(e){console.log(e)})},handleClick:function(e,t){console.log(e,t)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("11肿瘤模板")]),e._v(" "),a("tab-header",{attrs:{personInfo:e.personInfo}}),e._v(" "),a("el-form",{ref:"form",staticClass:"createVisit_form",attrs:{model:e.form,"label-width":"135px"}},[a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访状态 : "}},[a("el-cascader",{attrs:{options:e.sfstatus,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访结果 : "}},[a("el-cascader",{attrs:{options:e.sfresult,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访方式 : "}},[a("el-cascader",{attrs:{options:e.sftype,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出院/转出情况:"}},[a("el-cascader",{attrs:{placeholder:"请选择出院/转出情况",options:e.sfdischargeStatus,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.dischargeStatus,callback:function(t){e.$set(e.form,"dischargeStatus",t)},expression:"form.dischargeStatus"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"本次随访评估:"}},[a("el-cascader",{attrs:{options:e.sfassessment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.assessment,callback:function(t){e.$set(e.form,"assessment",t)},expression:"form.assessment"}})],1)],1)],1),e._v(" "),a("h2",[e._v("项目随访情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"请选择症状 : "}},[a("el-cascader",{attrs:{options:e.sfsymptom,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.symptom,callback:function(t){e.$set(e.form,"symptom",t)},expression:"form.symptom"}})],1)],1)],1),e._v(" "),a("h2",[e._v("生活方式")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"总体评估 : "}},[a("el-cascader",{attrs:{options:e.sflifeAssessment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.visitRecordContent.lifeAssessment,callback:function(t){e.$set(e.form.visitRecordContent,"lifeAssessment",t)},expression:"form.visitRecordContent.lifeAssessment"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"吸烟量 : "}},[a("el-cascader",{attrs:{options:e.sfsmokingVolume,props:{emitPath:!1}},on:{change:e.smokingVolumeChange},model:{value:e.form.smokingVolume,callback:function(t){e.$set(e.form,"smokingVolume",t)},expression:"form.smokingVolume"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isSmokingAmount,expression:"isSmokingAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"支/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.smokingAmount,callback:function(t){e.$set(e.form.visitRecordContent,"smokingAmount",t)},expression:"form.visitRecordContent.smokingAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"饮酒量 : "}},[a("el-cascader",{attrs:{options:e.sfalcoholConsumption,props:{emitPath:!1}},on:{change:e.alcoholConsumptionChange},model:{value:e.form.alcoholConsumption,callback:function(t){e.$set(e.form,"alcoholConsumption",t)},expression:"form.alcoholConsumption"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isAlcoholConsumptionAmount,expression:"isAlcoholConsumptionAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"ML/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.alcoholConsumptionAmount,callback:function(t){e.$set(e.form.visitRecordContent,"alcoholConsumptionAmount",t)},expression:"form.visitRecordContent.alcoholConsumptionAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"膳食脂肪"}},[a("el-input",{model:{value:e.form.dietaryFat,callback:function(t){e.$set(e.form,"dietaryFat",t)},expression:"form.dietaryFat"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(次/周)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionNum,callback:function(t){e.$set(e.form,"motionNum",t)},expression:"form.motionNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(分钟/次)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionLength,callback:function(t){e.$set(e.form,"motionLength",t)},expression:"form.motionLength"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"摄盐情况(克/天)"}},[a("el-input",{model:{value:e.form.saltUptake,callback:function(t){e.$set(e.form,"saltUptake",t)},expression:"form.saltUptake"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"心理调整 : "}},[a("el-cascader",{attrs:{options:e.sfregion,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"医从性 : "}},[a("el-cascader",{attrs:{options:e.sfmedicalCompliance,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.medicalCompliance,callback:function(t){e.$set(e.form,"medicalCompliance",t)},expression:"form.medicalCompliance"}})],1)],1)],1),e._v(" "),a("h2",[e._v("并发症")]),e._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否有并发症状 : "}},[a("el-cascader",{attrs:{options:e.sfcomplication},on:{change:e.complicationChange}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplication,expression:"iscomplication"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"并发症 : "}},[a("el-select",{on:{change:e.bfzChange},model:{value:e.bfzClassify,callback:function(t){e.bfzClassify=t},expression:"bfzClassify"}},e._l(e.sfbfz,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplicationName,expression:"iscomplicationName"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"具体症状："}},[a("el-cascader",{attrs:{options:e.sfbfzName,props:e.bfz},model:{value:e.form.complication,callback:function(t){e.$set(e.form,"complication",t)},expression:"form.complication"}})],1)],1)],1),e._v(" "),a("h2",[e._v("用药情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"依从性 : "}},[a("el-cascader",{attrs:{options:e.sfmedicationCompliance,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.medicationCompliance,callback:function(t){e.$set(e.form,"medicationCompliance",t)},expression:"form.medicationCompliance"}})],1)],1)],1),e._v(" "),e._l(e.form.visitRecordContent.dosages,function(t,o){return a("el-row",{key:o},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"药物名称"}},[a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"dosage.value"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"次/日"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"次"},model:{value:t.frequency,callback:function(a){e.$set(t,"frequency",a)},expression:"dosage.frequency"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"mg/次"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"mg"},model:{value:t.dose,callback:function(a){e.$set(t,"dose",a)},expression:"dosage.dose"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-button",{on:{click:function(a){return a.preventDefault(),e.removeDosage(t)}}},[e._v("删除")])],1)],1)],1)}),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-button",{on:{click:function(t){return t.preventDefault(),e.addDosage(t)}}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"药物不良反应 : "}},[a("el-cascader",{attrs:{options:e.sfreactions,props:{emitPath:!1}},on:{change:e.reactionsChange},model:{value:e.form.visitRecordContent.reactions.value,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"value",t)},expression:"form.visitRecordContent.reactions.value"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isReactions,expression:"isReactions"}],attrs:{span:16}},[a("el-form-item",{attrs:{label:"不良反应："}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.visitRecordContent.reactions.desc,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"desc",t)},expression:"form.visitRecordContent.reactions.desc"}})],1)],1)],1),e._v(" "),a("h2",[e._v("异常化验项目")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"白细胞"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.whiteBloodCell,callback:function(t){e.$set(e.form.visitRecordContent,"whiteBloodCell",t)},expression:"form.visitRecordContent.whiteBloodCell"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血小板"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.platelet,callback:function(t){e.$set(e.form.visitRecordContent,"platelet",t)},expression:"form.visitRecordContent.platelet"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钾"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodPotassium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodPotassium",t)},expression:"form.visitRecordContent.bloodPotassium"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钙"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodCalcium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodCalcium",t)},expression:"form.visitRecordContent.bloodCalcium"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"凝血"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.blood_coagulation,callback:function(t){e.$set(e.form.visitRecordContent,"blood_coagulation",t)},expression:"form.visitRecordContent.blood_coagulation"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"甘油三脂"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.threeFat,callback:function(t){e.$set(e.form.visitRecordContent,"threeFat",t)},expression:"form.visitRecordContent.threeFat"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"其他"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.other,callback:function(t){e.$set(e.form.visitRecordContent,"other",t)},expression:"form.visitRecordContent.other"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"随访备注 : "}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("h2",[e._v("健康教育知晓")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否进行健康指导 : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidance,props:{emitPath:!1}},on:{change:e.healthGuidanceChange},model:{value:e.form.visitRecordContent.healthGuidance,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidance",t)},expression:"form.visitRecordContent.healthGuidance"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.ishealthGuidanceContent,expression:"ishealthGuidanceContent"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康指导内容  : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidanceContent,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.visitRecordContent.healthGuidanceContent,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidanceContent",t)},expression:"form.visitRecordContent.healthGuidanceContent"}})],1)],1)],1),e._v(" "),a("h2",[e._v("随访记录")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已提醒复诊 : "}},[a("el-cascader",{attrs:{options:e.sfreminderRevisit,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.reminderRevisit,callback:function(t){e.$set(e.form,"reminderRevisit",t)},expression:"form.reminderRevisit"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已预约复诊 : "}},[a("el-cascader",{attrs:{options:e.sfappointmentRevisit,props:{emitPath:!1}},on:{change:e.appointmentRevisitChange},model:{value:e.form.appointmentRevisit,callback:function(t){e.$set(e.form,"appointmentRevisit",t)},expression:"form.appointmentRevisit"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.isAppointmentRevisit,expression:"isAppointmentRevisit"}],attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"预约科室 : "}},[a("el-cascader",{attrs:{options:e.sfdepartment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"复诊时间 : "}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",required:""},model:{value:e.form.revisitTime,callback:function(t){e.$set(e.form,"revisitTime",t)},expression:"form.revisitTime"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康知晓度 : "}},[a("el-cascader",{attrs:{options:e.sfhealthAwareness,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.healthAwareness,callback:function(t){e.$set(e.form,"healthAwareness",t)},expression:"form.healthAwareness"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"满意度调研 : "}},[a("el-cascader",{attrs:{options:e.sfsatisfactionSurvey,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.satisfactionSurvey,callback:function(t){e.$set(e.form,"satisfactionSurvey",t)},expression:"form.satisfactionSurvey"}})],1)],1)],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("完成随访")]),e._v(" "),a("el-button",{on:{click:e.cancelBtn}},[e._v("取消")])],1)],2)],1)},staticRenderFns:[]};var m=a("VU/8")(r,c,!1,function(e){a("kyo3")},"data-v-970e4448",null);t.default=m.exports},ILzK:function(e,t){},"O/9z":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("mvHQ"),l=a.n(o),s=a("kMct"),n=a("EMXe"),i=a("Q338"),r={components:{ElButton:n.a,ElCol:s.a,tabHeader:i.a},name:"default",data:function(){return{form:{visitAuthor:"",patientId:"",motionNum:0,motionLength:0,visitRecordContent:{reactions:{},dosages:[{value:"",frequency:0,dose:0}]}},sfstatus:[{value:"0",label:"未完成"},{value:"1",label:"已完成"}],sfresult:[{value:"0",label:"非有效随访"},{value:"1",label:"有效随访"},{value:"2",label:"勿访"},{value:"3",label:"终止随访"}],sftype:[{value:"1",label:"电话随访"},{value:"2",label:"在线随访"},{value:"3",label:"短信随访"}],sfdischargeStatus:[{value:"0",label:"其他市级医院"},{value:"1",label:"乡镇卫生医院治疗"},{value:"2",label:"村卫生室治疗"},{value:"3",label:"回家康复"},{value:"4",label:"痊愈回家"}],sfassessment:[{value:"1",label:"并发症"},{value:"2",label:"相关指标控制不住"},{value:"3",label:"控制不满意"},{value:"4",label:"控制满意"},{value:"5",label:"不良生活方式未改善"}],sfsymptom:[{value:"0",label:"无症状"},{value:"1",label:"有症状",children:[]}],sflifeAssessment:[{value:"0",label:"无改善"},{value:"1",label:"有改善"}],sfsmokingVolume:[{value:"0",label:"未戒烟"},{value:"1",label:"已戒烟"}],sfalcoholConsumption:[{value:"0",label:"未减量"},{value:"1",label:"已减量"}],sfregion:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfmedicalCompliance:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfcomplication:[{value:"0",label:"无并发症"},{value:"1",label:"有并发症 "}],sfbfz:[],sfbfzName:[],bfz:{multiple:!0},sfmedicationCompliance:[{value:"0",label:"不服药"},{value:"1",label:"部分依从"},{value:"2",label:"完全依从"}],sfreactions:[{value:"0",label:"无不良反应"},{value:"1",label:"有不良反应"}],sfhealthGuidance:[{value:"1",label:"是"},{value:"0",label:"否"}],sfhealthGuidanceContent:[{value:"1",label:"饮食指导"},{value:"2",label:"用药指导"},{value:"3",label:"注意事项"},{value:"4",label:"心理指导"},{value:"5",label:"睡眠指导"},{value:"6",label:"康复指导"},{value:"7",label:"戒烟限酒指导"}],sfreminderRevisit:[{value:"1",label:"已提醒"},{value:"0",label:"未提醒"}],sfappointmentRevisit:[{value:"1",label:"已预约"},{value:"0",label:"未预约"}],sfdepartment:[{value:"0",label:"否"},{value:"1",label:"是",children:[]}],sfhealthAwareness:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"},{value:"3",label:"优秀"}],sfsatisfactionSurvey:[{value:"0",label:"不满意"},{value:"1",label:"基本满意"},{value:"2",label:"满意"},{value:"3",label:"非常满意"}],isReactions:!1,isSmokingAmount:!1,isAlcoholConsumptionAmount:!1,isAppointmentRevisit:!1,ishealthGuidanceContent:!1,iscomplication:!1,iscomplicationName:!1,bfzClassify:"",complicationName:"",personInfoId:"",personInfo:{}}},created:function(){this.personInfoId=this.$route.params.id,this.personInfo=JSON.parse(sessionStorage.getItem("personInfo")),this.getMedicalList(),this.getSymptomList()},mounted:function(){},methods:{reactionsChange:function(e){this.isReactions=1==e},smokingVolumeChange:function(e){this.isSmokingAmount=0==e},alcoholConsumptionChange:function(e){this.isAlcoholConsumptionAmount=0==e},appointmentRevisitChange:function(e){this.isAppointmentRevisit=1==e},healthGuidanceChange:function(e){this.ishealthGuidanceContent=1==e},complicationChange:function(e){1==e?(this.iscomplication=!0,this.getComplicationList()):this.iscomplication=!1},addDosage:function(){this.form.visitRecordContent.dosages.push({value:"",frequency:0,dose:0})},removeDosage:function(e){var t;-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1),-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1)},bfzChange:function(e){var t=this;this.iscomplicationName=!!e,this.$http.get("/api/common/getDataList?dataType=2&dataNum="+e).then(function(e){t.sfbfzName=e.data}).catch(function(e){console.log(e)})},onSubmit:function(){var e=this;if(""!==this.form.type){var t=this.form;if(t.patientId=this.personInfo.id,t.visitAuthor=this.$store.state.user.user.id,t.motionLength=Number(this.form.motionLength),t.motionNum=Number(this.form.motionNum),t.healthGuidanceContent instanceof Array&&(t.healthGuidanceContent=this.form.healthGuidanceContent.join(",")),t.complication instanceof Array){t.complication=this.form.complication.join(",");var a=l()(t.visitRecordContent);t.visitRecordContent=a}this.$http.post("/api/visitRecord/insertVisitRecord",t).then(function(a){t.healthGuidanceContent=[],a.data?(e.$message.success("新增随访成功！"),setTimeout(function(){e.$router.replace({name:"EssentialInfo",params:{selectId:"sfjl"}})},1500)):e.$message.error("新增随访失败！")}).catch(function(a){e.$message.error("随访新增失败！"),t.healthGuidanceContent=[],console.log(a)})}else this.$message.warning("随访方式未选择！")},cancelBtn:function(){this.$router.go(-1)},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},handleChange:function(e){console.log(e)},getMedicalList:function(){var e=this;this.$http.get("/api/medicalSections/getMedicalSectionsList?hospitalId="+this.$store.state.user.user.hospitalId.id).then(function(t){e.sfdepartment[1].children=t.data}).catch(function(e){console.log(e)})},getSymptomList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=1").then(function(t){e.sfsymptom[1].children=t.data}).catch(function(e){console.log(e)})},getComplicationList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=2").then(function(t){e.sfbfz=t.data}).catch(function(e){console.log(e)})},handleClick:function(e,t){console.log(e,t)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("9消化道出血模板")]),e._v(" "),a("tab-header",{attrs:{personInfo:e.personInfo}}),e._v(" "),a("el-form",{ref:"form",staticClass:"createVisit_form",attrs:{model:e.form,"label-width":"135px"}},[a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访状态 : "}},[a("el-cascader",{attrs:{options:e.sfstatus,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访结果 : "}},[a("el-cascader",{attrs:{options:e.sfresult,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访方式 : "}},[a("el-cascader",{attrs:{options:e.sftype,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出院/转出情况:"}},[a("el-cascader",{attrs:{placeholder:"请选择出院/转出情况",options:e.sfdischargeStatus,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.dischargeStatus,callback:function(t){e.$set(e.form,"dischargeStatus",t)},expression:"form.dischargeStatus"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"本次随访评估:"}},[a("el-cascader",{attrs:{options:e.sfassessment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.assessment,callback:function(t){e.$set(e.form,"assessment",t)},expression:"form.assessment"}})],1)],1)],1),e._v(" "),a("h2",[e._v("项目随访情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"请选择症状 : "}},[a("el-cascader",{attrs:{options:e.sfsymptom,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.symptom,callback:function(t){e.$set(e.form,"symptom",t)},expression:"form.symptom"}})],1)],1)],1),e._v(" "),a("h2",[e._v("生活方式")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"总体评估 : "}},[a("el-cascader",{attrs:{options:e.sflifeAssessment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.visitRecordContent.lifeAssessment,callback:function(t){e.$set(e.form.visitRecordContent,"lifeAssessment",t)},expression:"form.visitRecordContent.lifeAssessment"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"吸烟量 : "}},[a("el-cascader",{attrs:{options:e.sfsmokingVolume,props:{emitPath:!1}},on:{change:e.smokingVolumeChange},model:{value:e.form.smokingVolume,callback:function(t){e.$set(e.form,"smokingVolume",t)},expression:"form.smokingVolume"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isSmokingAmount,expression:"isSmokingAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"支/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.smokingAmount,callback:function(t){e.$set(e.form.visitRecordContent,"smokingAmount",t)},expression:"form.visitRecordContent.smokingAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"饮酒量 : "}},[a("el-cascader",{attrs:{options:e.sfalcoholConsumption,props:{emitPath:!1}},on:{change:e.alcoholConsumptionChange},model:{value:e.form.alcoholConsumption,callback:function(t){e.$set(e.form,"alcoholConsumption",t)},expression:"form.alcoholConsumption"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isAlcoholConsumptionAmount,expression:"isAlcoholConsumptionAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"ML/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.alcoholConsumptionAmount,callback:function(t){e.$set(e.form.visitRecordContent,"alcoholConsumptionAmount",t)},expression:"form.visitRecordContent.alcoholConsumptionAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"膳食脂肪"}},[a("el-input",{model:{value:e.form.dietaryFat,callback:function(t){e.$set(e.form,"dietaryFat",t)},expression:"form.dietaryFat"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(次/周)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionNum,callback:function(t){e.$set(e.form,"motionNum",t)},expression:"form.motionNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(分钟/次)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionLength,callback:function(t){e.$set(e.form,"motionLength",t)},expression:"form.motionLength"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"摄盐情况(克/天)"}},[a("el-input",{model:{value:e.form.saltUptake,callback:function(t){e.$set(e.form,"saltUptake",t)},expression:"form.saltUptake"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"心理调整 : "}},[a("el-cascader",{attrs:{options:e.sfregion,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"医从性 : "}},[a("el-cascader",{attrs:{options:e.sfmedicalCompliance,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.medicalCompliance,callback:function(t){e.$set(e.form,"medicalCompliance",t)},expression:"form.medicalCompliance"}})],1)],1)],1),e._v(" "),a("h2",[e._v("并发症")]),e._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否有并发症状 : "}},[a("el-cascader",{attrs:{options:e.sfcomplication},on:{change:e.complicationChange}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplication,expression:"iscomplication"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"并发症 : "}},[a("el-select",{on:{change:e.bfzChange},model:{value:e.bfzClassify,callback:function(t){e.bfzClassify=t},expression:"bfzClassify"}},e._l(e.sfbfz,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplicationName,expression:"iscomplicationName"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"具体症状："}},[a("el-cascader",{attrs:{options:e.sfbfzName,props:e.bfz},model:{value:e.form.complication,callback:function(t){e.$set(e.form,"complication",t)},expression:"form.complication"}})],1)],1)],1),e._v(" "),a("h2",[e._v("用药情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"依从性 : "}},[a("el-cascader",{attrs:{options:e.sfmedicationCompliance,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.medicationCompliance,callback:function(t){e.$set(e.form,"medicationCompliance",t)},expression:"form.medicationCompliance"}})],1)],1)],1),e._v(" "),e._l(e.form.visitRecordContent.dosages,function(t,o){return a("el-row",{key:o},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"药物名称"}},[a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"dosage.value"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"次/日"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"次"},model:{value:t.frequency,callback:function(a){e.$set(t,"frequency",a)},expression:"dosage.frequency"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"mg/次"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"mg"},model:{value:t.dose,callback:function(a){e.$set(t,"dose",a)},expression:"dosage.dose"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-button",{on:{click:function(a){return a.preventDefault(),e.removeDosage(t)}}},[e._v("删除")])],1)],1)],1)}),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-button",{on:{click:function(t){return t.preventDefault(),e.addDosage(t)}}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"药物不良反应 : "}},[a("el-cascader",{attrs:{options:e.sfreactions,props:{emitPath:!1}},on:{change:e.reactionsChange},model:{value:e.form.visitRecordContent.reactions.value,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"value",t)},expression:"form.visitRecordContent.reactions.value"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isReactions,expression:"isReactions"}],attrs:{span:16}},[a("el-form-item",{attrs:{label:"不良反应："}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.visitRecordContent.reactions.desc,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"desc",t)},expression:"form.visitRecordContent.reactions.desc"}})],1)],1)],1),e._v(" "),a("h2",[e._v("异常化验项目")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"白细胞"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.whiteBloodCell,callback:function(t){e.$set(e.form.visitRecordContent,"whiteBloodCell",t)},expression:"form.visitRecordContent.whiteBloodCell"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血小板"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.platelet,callback:function(t){e.$set(e.form.visitRecordContent,"platelet",t)},expression:"form.visitRecordContent.platelet"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钾"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodPotassium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodPotassium",t)},expression:"form.visitRecordContent.bloodPotassium"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钙"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodCalcium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodCalcium",t)},expression:"form.visitRecordContent.bloodCalcium"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"凝血"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.blood_coagulation,callback:function(t){e.$set(e.form.visitRecordContent,"blood_coagulation",t)},expression:"form.visitRecordContent.blood_coagulation"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"甘油三脂"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.threeFat,callback:function(t){e.$set(e.form.visitRecordContent,"threeFat",t)},expression:"form.visitRecordContent.threeFat"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"其他"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.other,callback:function(t){e.$set(e.form.visitRecordContent,"other",t)},expression:"form.visitRecordContent.other"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"随访备注 : "}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("h2",[e._v("健康教育知晓")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否进行健康指导 : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidance,props:{emitPath:!1}},on:{change:e.healthGuidanceChange},model:{value:e.form.visitRecordContent.healthGuidance,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidance",t)},expression:"form.visitRecordContent.healthGuidance"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.ishealthGuidanceContent,expression:"ishealthGuidanceContent"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康指导内容  : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidanceContent,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.visitRecordContent.healthGuidanceContent,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidanceContent",t)},expression:"form.visitRecordContent.healthGuidanceContent"}})],1)],1)],1),e._v(" "),a("h2",[e._v("随访记录")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已提醒复诊 : "}},[a("el-cascader",{attrs:{options:e.sfreminderRevisit,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.reminderRevisit,callback:function(t){e.$set(e.form,"reminderRevisit",t)},expression:"form.reminderRevisit"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已预约复诊 : "}},[a("el-cascader",{attrs:{options:e.sfappointmentRevisit,props:{emitPath:!1}},on:{change:e.appointmentRevisitChange},model:{value:e.form.appointmentRevisit,callback:function(t){e.$set(e.form,"appointmentRevisit",t)},expression:"form.appointmentRevisit"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.isAppointmentRevisit,expression:"isAppointmentRevisit"}],attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"预约科室 : "}},[a("el-cascader",{attrs:{options:e.sfdepartment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"复诊时间 : "}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",required:""},model:{value:e.form.revisitTime,callback:function(t){e.$set(e.form,"revisitTime",t)},expression:"form.revisitTime"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康知晓度 : "}},[a("el-cascader",{attrs:{options:e.sfhealthAwareness,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.healthAwareness,callback:function(t){e.$set(e.form,"healthAwareness",t)},expression:"form.healthAwareness"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"满意度调研 : "}},[a("el-cascader",{attrs:{options:e.sfsatisfactionSurvey,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.satisfactionSurvey,callback:function(t){e.$set(e.form,"satisfactionSurvey",t)},expression:"form.satisfactionSurvey"}})],1)],1)],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("完成随访")]),e._v(" "),a("el-button",{on:{click:e.cancelBtn}},[e._v("取消")])],1)],2)],1)},staticRenderFns:[]};var m=a("VU/8")(r,c,!1,function(e){a("Rcm5")},"data-v-678eb2a8",null);t.default=m.exports},Rcm5:function(e,t){},UVg9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("mvHQ"),l=a.n(o),s=a("kMct"),n=a("EMXe"),i=a("Q338"),r={components:{ElButton:n.a,ElCol:s.a,tabHeader:i.a},name:"default",data:function(){return{form:{visitAuthor:"",patientId:"",motionNum:0,motionLength:0,visitRecordContent:{reactions:{},dosages:[{value:"",frequency:0,dose:0}]}},sfstatus:[{value:"0",label:"未完成"},{value:"1",label:"已完成"}],sfresult:[{value:"0",label:"非有效随访"},{value:"1",label:"有效随访"},{value:"2",label:"勿访"},{value:"3",label:"终止随访"}],sftype:[{value:"1",label:"电话随访"},{value:"2",label:"在线随访"},{value:"3",label:"短信随访"}],sfdischargeStatus:[{value:"0",label:"其他市级医院"},{value:"1",label:"乡镇卫生医院治疗"},{value:"2",label:"村卫生室治疗"},{value:"3",label:"回家康复"},{value:"4",label:"痊愈回家"}],sfassessment:[{value:"1",label:"并发症"},{value:"2",label:"相关指标控制不住"},{value:"3",label:"控制不满意"},{value:"4",label:"控制满意"},{value:"5",label:"不良生活方式未改善"}],sfsymptom:[{value:"0",label:"无症状"},{value:"1",label:"有症状",children:[]}],sflifeAssessment:[{value:"0",label:"无改善"},{value:"1",label:"有改善"}],sfsmokingVolume:[{value:"0",label:"未戒烟"},{value:"1",label:"已戒烟"}],sfalcoholConsumption:[{value:"0",label:"未减量"},{value:"1",label:"已减量"}],sfregion:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfmedicalCompliance:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfcomplication:[{value:"0",label:"无并发症"},{value:"1",label:"有并发症 "}],sfbfz:[],sfbfzName:[],bfz:{multiple:!0},sfmedicationCompliance:[{value:"0",label:"不服药"},{value:"1",label:"部分依从"},{value:"2",label:"完全依从"}],sfreactions:[{value:"0",label:"无不良反应"},{value:"1",label:"有不良反应"}],sfhealthGuidance:[{value:"1",label:"是"},{value:"0",label:"否"}],sfhealthGuidanceContent:[{value:"1",label:"饮食指导"},{value:"2",label:"用药指导"},{value:"3",label:"注意事项"},{value:"4",label:"心理指导"},{value:"5",label:"睡眠指导"},{value:"6",label:"康复指导"},{value:"7",label:"戒烟限酒指导"}],sfreminderRevisit:[{value:"1",label:"已提醒"},{value:"0",label:"未提醒"}],sfappointmentRevisit:[{value:"1",label:"已预约"},{value:"0",label:"未预约"}],sfdepartment:[{value:"0",label:"否"},{value:"1",label:"是",children:[]}],sfhealthAwareness:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"},{value:"3",label:"优秀"}],sfsatisfactionSurvey:[{value:"0",label:"不满意"},{value:"1",label:"基本满意"},{value:"2",label:"满意"},{value:"3",label:"非常满意"}],isReactions:!1,isSmokingAmount:!1,isAlcoholConsumptionAmount:!1,isAppointmentRevisit:!1,ishealthGuidanceContent:!1,iscomplication:!1,iscomplicationName:!1,bfzClassify:"",complicationName:"",personInfoId:"",personInfo:{}}},created:function(){this.personInfoId=this.$route.params.id,this.personInfo=JSON.parse(sessionStorage.getItem("personInfo")),this.getMedicalList(),this.getSymptomList()},mounted:function(){},methods:{reactionsChange:function(e){this.isReactions=1==e},smokingVolumeChange:function(e){this.isSmokingAmount=0==e},alcoholConsumptionChange:function(e){this.isAlcoholConsumptionAmount=0==e},appointmentRevisitChange:function(e){this.isAppointmentRevisit=1==e},healthGuidanceChange:function(e){this.ishealthGuidanceContent=1==e},complicationChange:function(e){1==e?(this.iscomplication=!0,this.getComplicationList()):this.iscomplication=!1},addDosage:function(){this.form.visitRecordContent.dosages.push({value:"",frequency:0,dose:0})},removeDosage:function(e){var t;-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1),-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1)},bfzChange:function(e){var t=this;this.iscomplicationName=!!e,this.$http.get("/api/common/getDataList?dataType=2&dataNum="+e).then(function(e){t.sfbfzName=e.data}).catch(function(e){console.log(e)})},onSubmit:function(){var e=this;if(""!==this.form.type){var t=this.form;if(t.patientId=this.personInfo.id,t.visitAuthor=this.$store.state.user.user.id,t.motionLength=Number(this.form.motionLength),t.motionNum=Number(this.form.motionNum),t.healthGuidanceContent instanceof Array&&(t.healthGuidanceContent=this.form.healthGuidanceContent.join(",")),t.complication instanceof Array){t.complication=this.form.complication.join(",");var a=l()(t.visitRecordContent);t.visitRecordContent=a}this.$http.post("/api/visitRecord/insertVisitRecord",t).then(function(a){t.healthGuidanceContent=[],a.data?(e.$message.success("新增随访成功！"),setTimeout(function(){e.$router.replace({name:"EssentialInfo",params:{selectId:"sfjl"}})},1500)):e.$message.error("新增随访失败！")}).catch(function(a){e.$message.error("随访新增失败！"),t.healthGuidanceContent=[],console.log(a)})}else this.$message.warning("随访方式未选择！")},cancelBtn:function(){this.$router.go(-1)},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},handleChange:function(e){console.log(e)},getMedicalList:function(){var e=this;this.$http.get("/api/medicalSections/getMedicalSectionsList?hospitalId="+this.$store.state.user.user.hospitalId.id).then(function(t){e.sfdepartment[1].children=t.data}).catch(function(e){console.log(e)})},getSymptomList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=1").then(function(t){e.sfsymptom[1].children=t.data}).catch(function(e){console.log(e)})},getComplicationList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=2").then(function(t){e.sfbfz=t.data}).catch(function(e){console.log(e)})},handleClick:function(e,t){console.log(e,t)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("7 内分泌模板")]),e._v(" "),a("tab-header",{attrs:{personInfo:e.personInfo}}),e._v(" "),a("el-form",{ref:"form",staticClass:"createVisit_form",attrs:{model:e.form,"label-width":"135px"}},[a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访状态 : "}},[a("el-cascader",{attrs:{options:e.sfstatus,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访结果 : "}},[a("el-cascader",{attrs:{options:e.sfresult,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访方式 : "}},[a("el-cascader",{attrs:{options:e.sftype,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出院/转出情况:"}},[a("el-cascader",{attrs:{placeholder:"请选择出院/转出情况",options:e.sfdischargeStatus,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.dischargeStatus,callback:function(t){e.$set(e.form,"dischargeStatus",t)},expression:"form.dischargeStatus"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"本次随访评估:"}},[a("el-cascader",{attrs:{options:e.sfassessment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.assessment,callback:function(t){e.$set(e.form,"assessment",t)},expression:"form.assessment"}})],1)],1)],1),e._v(" "),a("h2",[e._v("项目随访情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"请选择症状 : "}},[a("el-cascader",{attrs:{options:e.sfsymptom,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.symptom,callback:function(t){e.$set(e.form,"symptom",t)},expression:"form.symptom"}})],1)],1)],1),e._v(" "),a("h2",[e._v("生活方式")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"总体评估 : "}},[a("el-cascader",{attrs:{options:e.sflifeAssessment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.visitRecordContent.lifeAssessment,callback:function(t){e.$set(e.form.visitRecordContent,"lifeAssessment",t)},expression:"form.visitRecordContent.lifeAssessment"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"吸烟量 : "}},[a("el-cascader",{attrs:{options:e.sfsmokingVolume,props:{emitPath:!1}},on:{change:e.smokingVolumeChange},model:{value:e.form.smokingVolume,callback:function(t){e.$set(e.form,"smokingVolume",t)},expression:"form.smokingVolume"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isSmokingAmount,expression:"isSmokingAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"支/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.smokingAmount,callback:function(t){e.$set(e.form.visitRecordContent,"smokingAmount",t)},expression:"form.visitRecordContent.smokingAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"饮酒量 : "}},[a("el-cascader",{attrs:{options:e.sfalcoholConsumption,props:{emitPath:!1}},on:{change:e.alcoholConsumptionChange},model:{value:e.form.alcoholConsumption,callback:function(t){e.$set(e.form,"alcoholConsumption",t)},expression:"form.alcoholConsumption"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isAlcoholConsumptionAmount,expression:"isAlcoholConsumptionAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"ML/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.alcoholConsumptionAmount,callback:function(t){e.$set(e.form.visitRecordContent,"alcoholConsumptionAmount",t)},expression:"form.visitRecordContent.alcoholConsumptionAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"膳食脂肪"}},[a("el-input",{model:{value:e.form.dietaryFat,callback:function(t){e.$set(e.form,"dietaryFat",t)},expression:"form.dietaryFat"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(次/周)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionNum,callback:function(t){e.$set(e.form,"motionNum",t)},expression:"form.motionNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(分钟/次)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionLength,callback:function(t){e.$set(e.form,"motionLength",t)},expression:"form.motionLength"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"摄盐情况(克/天)"}},[a("el-input",{model:{value:e.form.saltUptake,callback:function(t){e.$set(e.form,"saltUptake",t)},expression:"form.saltUptake"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"心理调整 : "}},[a("el-cascader",{attrs:{options:e.sfregion,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"医从性 : "}},[a("el-cascader",{attrs:{options:e.sfmedicalCompliance,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.medicalCompliance,callback:function(t){e.$set(e.form,"medicalCompliance",t)},expression:"form.medicalCompliance"}})],1)],1)],1),e._v(" "),a("h2",[e._v("并发症")]),e._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否有并发症状 : "}},[a("el-cascader",{attrs:{options:e.sfcomplication},on:{change:e.complicationChange}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplication,expression:"iscomplication"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"并发症 : "}},[a("el-select",{on:{change:e.bfzChange},model:{value:e.bfzClassify,callback:function(t){e.bfzClassify=t},expression:"bfzClassify"}},e._l(e.sfbfz,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplicationName,expression:"iscomplicationName"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"具体症状："}},[a("el-cascader",{attrs:{options:e.sfbfzName,props:e.bfz},model:{value:e.form.complication,callback:function(t){e.$set(e.form,"complication",t)},expression:"form.complication"}})],1)],1)],1),e._v(" "),a("h2",[e._v("用药情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"依从性 : "}},[a("el-cascader",{attrs:{options:e.sfmedicationCompliance,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.medicationCompliance,callback:function(t){e.$set(e.form,"medicationCompliance",t)},expression:"form.medicationCompliance"}})],1)],1)],1),e._v(" "),e._l(e.form.visitRecordContent.dosages,function(t,o){return a("el-row",{key:o},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"药物名称"}},[a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"dosage.value"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"次/日"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"次"},model:{value:t.frequency,callback:function(a){e.$set(t,"frequency",a)},expression:"dosage.frequency"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"mg/次"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"mg"},model:{value:t.dose,callback:function(a){e.$set(t,"dose",a)},expression:"dosage.dose"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-button",{on:{click:function(a){return a.preventDefault(),e.removeDosage(t)}}},[e._v("删除")])],1)],1)],1)}),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-button",{on:{click:function(t){return t.preventDefault(),e.addDosage(t)}}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"药物不良反应 : "}},[a("el-cascader",{attrs:{options:e.sfreactions,props:{emitPath:!1}},on:{change:e.reactionsChange},model:{value:e.form.visitRecordContent.reactions.value,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"value",t)},expression:"form.visitRecordContent.reactions.value"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isReactions,expression:"isReactions"}],attrs:{span:16}},[a("el-form-item",{attrs:{label:"不良反应："}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.visitRecordContent.reactions.desc,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"desc",t)},expression:"form.visitRecordContent.reactions.desc"}})],1)],1)],1),e._v(" "),a("h2",[e._v("异常化验项目")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"白细胞"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.whiteBloodCell,callback:function(t){e.$set(e.form.visitRecordContent,"whiteBloodCell",t)},expression:"form.visitRecordContent.whiteBloodCell"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血小板"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.platelet,callback:function(t){e.$set(e.form.visitRecordContent,"platelet",t)},expression:"form.visitRecordContent.platelet"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钾"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodPotassium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodPotassium",t)},expression:"form.visitRecordContent.bloodPotassium"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钙"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodCalcium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodCalcium",t)},expression:"form.visitRecordContent.bloodCalcium"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"凝血"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.blood_coagulation,callback:function(t){e.$set(e.form.visitRecordContent,"blood_coagulation",t)},expression:"form.visitRecordContent.blood_coagulation"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"甘油三脂"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.threeFat,callback:function(t){e.$set(e.form.visitRecordContent,"threeFat",t)},expression:"form.visitRecordContent.threeFat"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"其他"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.other,callback:function(t){e.$set(e.form.visitRecordContent,"other",t)},expression:"form.visitRecordContent.other"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"随访备注 : "}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("h2",[e._v("健康教育知晓")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否进行健康指导 : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidance,props:{emitPath:!1}},on:{change:e.healthGuidanceChange},model:{value:e.form.visitRecordContent.healthGuidance,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidance",t)},expression:"form.visitRecordContent.healthGuidance"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.ishealthGuidanceContent,expression:"ishealthGuidanceContent"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康指导内容  : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidanceContent,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.visitRecordContent.healthGuidanceContent,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidanceContent",t)},expression:"form.visitRecordContent.healthGuidanceContent"}})],1)],1)],1),e._v(" "),a("h2",[e._v("随访记录")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已提醒复诊 : "}},[a("el-cascader",{attrs:{options:e.sfreminderRevisit,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.reminderRevisit,callback:function(t){e.$set(e.form,"reminderRevisit",t)},expression:"form.reminderRevisit"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已预约复诊 : "}},[a("el-cascader",{attrs:{options:e.sfappointmentRevisit,props:{emitPath:!1}},on:{change:e.appointmentRevisitChange},model:{value:e.form.appointmentRevisit,callback:function(t){e.$set(e.form,"appointmentRevisit",t)},expression:"form.appointmentRevisit"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.isAppointmentRevisit,expression:"isAppointmentRevisit"}],attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"预约科室 : "}},[a("el-cascader",{attrs:{options:e.sfdepartment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"复诊时间 : "}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",required:""},model:{value:e.form.revisitTime,callback:function(t){e.$set(e.form,"revisitTime",t)},expression:"form.revisitTime"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康知晓度 : "}},[a("el-cascader",{attrs:{options:e.sfhealthAwareness,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.healthAwareness,callback:function(t){e.$set(e.form,"healthAwareness",t)},expression:"form.healthAwareness"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"满意度调研 : "}},[a("el-cascader",{attrs:{options:e.sfsatisfactionSurvey,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.satisfactionSurvey,callback:function(t){e.$set(e.form,"satisfactionSurvey",t)},expression:"form.satisfactionSurvey"}})],1)],1)],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("完成随访")]),e._v(" "),a("el-button",{on:{click:e.cancelBtn}},[e._v("取消")])],1)],2)],1)},staticRenderFns:[]};var m=a("VU/8")(r,c,!1,function(e){a("eSNU")},"data-v-be668328",null);t.default=m.exports},V1zS:function(e,t){},Vs5T:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("mvHQ"),l=a.n(o),s=a("kMct"),n=a("EMXe"),i=a("Q338"),r={components:{ElButton:n.a,ElCol:s.a,tabHeader:i.a},name:"default",data:function(){return{form:{visitAuthor:"",patientId:"",motionNum:0,motionLength:0,visitRecordContent:{reactions:{},dosages:[{value:"",frequency:0,dose:0}]}},sfstatus:[{value:"0",label:"未完成"},{value:"1",label:"已完成"}],sfresult:[{value:"0",label:"非有效随访"},{value:"1",label:"有效随访"},{value:"2",label:"勿访"},{value:"3",label:"终止随访"}],sftype:[{value:"1",label:"电话随访"},{value:"2",label:"在线随访"},{value:"3",label:"短信随访"}],sfdischargeStatus:[{value:"0",label:"其他市级医院"},{value:"1",label:"乡镇卫生医院治疗"},{value:"2",label:"村卫生室治疗"},{value:"3",label:"回家康复"},{value:"4",label:"痊愈回家"}],sfassessment:[{value:"1",label:"并发症"},{value:"2",label:"相关指标控制不住"},{value:"3",label:"控制不满意"},{value:"4",label:"控制满意"},{value:"5",label:"不良生活方式未改善"}],sfsymptom:[{value:"0",label:"无症状"},{value:"1",label:"有症状",children:[]}],sflifeAssessment:[{value:"0",label:"无改善"},{value:"1",label:"有改善"}],sfsmokingVolume:[{value:"0",label:"未戒烟"},{value:"1",label:"已戒烟"}],sfalcoholConsumption:[{value:"0",label:"未减量"},{value:"1",label:"已减量"}],sfregion:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfmedicalCompliance:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfcomplication:[{value:"0",label:"无并发症"},{value:"1",label:"有并发症 "}],sfbfz:[],sfbfzName:[],bfz:{multiple:!0},sfmedicationCompliance:[{value:"0",label:"不服药"},{value:"1",label:"部分依从"},{value:"2",label:"完全依从"}],sfreactions:[{value:"0",label:"无不良反应"},{value:"1",label:"有不良反应"}],sfhealthGuidance:[{value:"1",label:"是"},{value:"0",label:"否"}],sfhealthGuidanceContent:[{value:"1",label:"饮食指导"},{value:"2",label:"用药指导"},{value:"3",label:"注意事项"},{value:"4",label:"心理指导"},{value:"5",label:"睡眠指导"},{value:"6",label:"康复指导"},{value:"7",label:"戒烟限酒指导"}],sfreminderRevisit:[{value:"1",label:"已提醒"},{value:"0",label:"未提醒"}],sfappointmentRevisit:[{value:"1",label:"已预约"},{value:"0",label:"未预约"}],sfdepartment:[{value:"0",label:"否"},{value:"1",label:"是",children:[]}],sfhealthAwareness:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"},{value:"3",label:"优秀"}],sfsatisfactionSurvey:[{value:"0",label:"不满意"},{value:"1",label:"基本满意"},{value:"2",label:"满意"},{value:"3",label:"非常满意"}],isReactions:!1,isSmokingAmount:!1,isAlcoholConsumptionAmount:!1,isAppointmentRevisit:!1,ishealthGuidanceContent:!1,iscomplication:!1,iscomplicationName:!1,bfzClassify:"",complicationName:"",personInfoId:"",personInfo:{}}},created:function(){this.personInfoId=this.$route.params.id,this.personInfo=JSON.parse(sessionStorage.getItem("personInfo")),this.getMedicalList(),this.getSymptomList()},mounted:function(){},methods:{reactionsChange:function(e){this.isReactions=1==e},smokingVolumeChange:function(e){this.isSmokingAmount=0==e},alcoholConsumptionChange:function(e){this.isAlcoholConsumptionAmount=0==e},appointmentRevisitChange:function(e){this.isAppointmentRevisit=1==e},healthGuidanceChange:function(e){this.ishealthGuidanceContent=1==e},complicationChange:function(e){1==e?(this.iscomplication=!0,this.getComplicationList()):this.iscomplication=!1},addDosage:function(){this.form.visitRecordContent.dosages.push({value:"",frequency:0,dose:0})},removeDosage:function(e){var t;-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1),-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1)},bfzChange:function(e){var t=this;this.iscomplicationName=!!e,this.$http.get("/api/common/getDataList?dataType=2&dataNum="+e).then(function(e){t.sfbfzName=e.data}).catch(function(e){console.log(e)})},onSubmit:function(){var e=this;if(""!==this.form.type){var t=this.form;if(t.patientId=this.personInfo.id,t.visitAuthor=this.$store.state.user.user.id,t.motionLength=Number(this.form.motionLength),t.motionNum=Number(this.form.motionNum),t.healthGuidanceContent instanceof Array&&(t.healthGuidanceContent=this.form.healthGuidanceContent.join(",")),t.complication instanceof Array){t.complication=this.form.complication.join(",");var a=l()(t.visitRecordContent);t.visitRecordContent=a}this.$http.post("/api/visitRecord/insertVisitRecord",t).then(function(a){t.healthGuidanceContent=[],a.data?(e.$message.success("新增随访成功！"),setTimeout(function(){e.$router.replace({name:"EssentialInfo",params:{selectId:"sfjl"}})},1500)):e.$message.error("新增随访失败！")}).catch(function(a){e.$message.error("随访新增失败！"),t.healthGuidanceContent=[],console.log(a)})}else this.$message.warning("随访方式未选择！")},cancelBtn:function(){this.$router.go(-1)},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},handleChange:function(e){console.log(e)},getMedicalList:function(){var e=this;this.$http.get("/api/medicalSections/getMedicalSectionsList?hospitalId="+this.$store.state.user.user.hospitalId.id).then(function(t){e.sfdepartment[1].children=t.data}).catch(function(e){console.log(e)})},getSymptomList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=1").then(function(t){e.sfsymptom[1].children=t.data}).catch(function(e){console.log(e)})},getComplicationList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=2").then(function(t){e.sfbfz=t.data}).catch(function(e){console.log(e)})},handleClick:function(e,t){console.log(e,t)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("6 脑卒中模板")]),e._v(" "),a("tab-header",{attrs:{personInfo:e.personInfo}}),e._v(" "),a("el-form",{ref:"form",staticClass:"createVisit_form",attrs:{model:e.form,"label-width":"135px"}},[a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访状态 : "}},[a("el-cascader",{attrs:{options:e.sfstatus,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访结果 : "}},[a("el-cascader",{attrs:{options:e.sfresult,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访方式 : "}},[a("el-cascader",{attrs:{options:e.sftype,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出院/转出情况:"}},[a("el-cascader",{attrs:{placeholder:"请选择出院/转出情况",options:e.sfdischargeStatus,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.dischargeStatus,callback:function(t){e.$set(e.form,"dischargeStatus",t)},expression:"form.dischargeStatus"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"本次随访评估:"}},[a("el-cascader",{attrs:{options:e.sfassessment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.assessment,callback:function(t){e.$set(e.form,"assessment",t)},expression:"form.assessment"}})],1)],1)],1),e._v(" "),a("h2",[e._v("项目随访情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"请选择症状 : "}},[a("el-cascader",{attrs:{options:e.sfsymptom,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.symptom,callback:function(t){e.$set(e.form,"symptom",t)},expression:"form.symptom"}})],1)],1)],1),e._v(" "),a("h2",[e._v("生活方式")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"总体评估 : "}},[a("el-cascader",{attrs:{options:e.sflifeAssessment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.visitRecordContent.lifeAssessment,callback:function(t){e.$set(e.form.visitRecordContent,"lifeAssessment",t)},expression:"form.visitRecordContent.lifeAssessment"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"吸烟量 : "}},[a("el-cascader",{attrs:{options:e.sfsmokingVolume,props:{emitPath:!1}},on:{change:e.smokingVolumeChange},model:{value:e.form.smokingVolume,callback:function(t){e.$set(e.form,"smokingVolume",t)},expression:"form.smokingVolume"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isSmokingAmount,expression:"isSmokingAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"支/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.smokingAmount,callback:function(t){e.$set(e.form.visitRecordContent,"smokingAmount",t)},expression:"form.visitRecordContent.smokingAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"饮酒量 : "}},[a("el-cascader",{attrs:{options:e.sfalcoholConsumption,props:{emitPath:!1}},on:{change:e.alcoholConsumptionChange},model:{value:e.form.alcoholConsumption,callback:function(t){e.$set(e.form,"alcoholConsumption",t)},expression:"form.alcoholConsumption"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isAlcoholConsumptionAmount,expression:"isAlcoholConsumptionAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"ML/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.alcoholConsumptionAmount,callback:function(t){e.$set(e.form.visitRecordContent,"alcoholConsumptionAmount",t)},expression:"form.visitRecordContent.alcoholConsumptionAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"膳食脂肪"}},[a("el-input",{model:{value:e.form.dietaryFat,callback:function(t){e.$set(e.form,"dietaryFat",t)},expression:"form.dietaryFat"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(次/周)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionNum,callback:function(t){e.$set(e.form,"motionNum",t)},expression:"form.motionNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(分钟/次)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionLength,callback:function(t){e.$set(e.form,"motionLength",t)},expression:"form.motionLength"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"摄盐情况(克/天)"}},[a("el-input",{model:{value:e.form.saltUptake,callback:function(t){e.$set(e.form,"saltUptake",t)},expression:"form.saltUptake"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"心理调整 : "}},[a("el-cascader",{attrs:{options:e.sfregion,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"医从性 : "}},[a("el-cascader",{attrs:{options:e.sfmedicalCompliance,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.medicalCompliance,callback:function(t){e.$set(e.form,"medicalCompliance",t)},expression:"form.medicalCompliance"}})],1)],1)],1),e._v(" "),a("h2",[e._v("并发症")]),e._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否有并发症状 : "}},[a("el-cascader",{attrs:{options:e.sfcomplication},on:{change:e.complicationChange}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplication,expression:"iscomplication"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"并发症 : "}},[a("el-select",{on:{change:e.bfzChange},model:{value:e.bfzClassify,callback:function(t){e.bfzClassify=t},expression:"bfzClassify"}},e._l(e.sfbfz,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplicationName,expression:"iscomplicationName"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"具体症状："}},[a("el-cascader",{attrs:{options:e.sfbfzName,props:e.bfz},model:{value:e.form.complication,callback:function(t){e.$set(e.form,"complication",t)},expression:"form.complication"}})],1)],1)],1),e._v(" "),a("h2",[e._v("用药情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"依从性 : "}},[a("el-cascader",{attrs:{options:e.sfmedicationCompliance,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.medicationCompliance,callback:function(t){e.$set(e.form,"medicationCompliance",t)},expression:"form.medicationCompliance"}})],1)],1)],1),e._v(" "),e._l(e.form.visitRecordContent.dosages,function(t,o){return a("el-row",{key:o},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"药物名称"}},[a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"dosage.value"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"次/日"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"次"},model:{value:t.frequency,callback:function(a){e.$set(t,"frequency",a)},expression:"dosage.frequency"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"mg/次"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"mg"},model:{value:t.dose,callback:function(a){e.$set(t,"dose",a)},expression:"dosage.dose"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-button",{on:{click:function(a){return a.preventDefault(),e.removeDosage(t)}}},[e._v("删除")])],1)],1)],1)}),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-button",{on:{click:function(t){return t.preventDefault(),e.addDosage(t)}}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"药物不良反应 : "}},[a("el-cascader",{attrs:{options:e.sfreactions,props:{emitPath:!1}},on:{change:e.reactionsChange},model:{value:e.form.visitRecordContent.reactions.value,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"value",t)},expression:"form.visitRecordContent.reactions.value"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isReactions,expression:"isReactions"}],attrs:{span:16}},[a("el-form-item",{attrs:{label:"不良反应："}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.visitRecordContent.reactions.desc,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"desc",t)},expression:"form.visitRecordContent.reactions.desc"}})],1)],1)],1),e._v(" "),a("h2",[e._v("异常化验项目")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"白细胞"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.whiteBloodCell,callback:function(t){e.$set(e.form.visitRecordContent,"whiteBloodCell",t)},expression:"form.visitRecordContent.whiteBloodCell"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血小板"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.platelet,callback:function(t){e.$set(e.form.visitRecordContent,"platelet",t)},expression:"form.visitRecordContent.platelet"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钾"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodPotassium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodPotassium",t)},expression:"form.visitRecordContent.bloodPotassium"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钙"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodCalcium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodCalcium",t)},expression:"form.visitRecordContent.bloodCalcium"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"凝血"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.blood_coagulation,callback:function(t){e.$set(e.form.visitRecordContent,"blood_coagulation",t)},expression:"form.visitRecordContent.blood_coagulation"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"甘油三脂"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.threeFat,callback:function(t){e.$set(e.form.visitRecordContent,"threeFat",t)},expression:"form.visitRecordContent.threeFat"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"其他"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.other,callback:function(t){e.$set(e.form.visitRecordContent,"other",t)},expression:"form.visitRecordContent.other"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"随访备注 : "}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("h2",[e._v("健康教育知晓")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否进行健康指导 : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidance,props:{emitPath:!1}},on:{change:e.healthGuidanceChange},model:{value:e.form.visitRecordContent.healthGuidance,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidance",t)},expression:"form.visitRecordContent.healthGuidance"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.ishealthGuidanceContent,expression:"ishealthGuidanceContent"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康指导内容  : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidanceContent,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.visitRecordContent.healthGuidanceContent,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidanceContent",t)},expression:"form.visitRecordContent.healthGuidanceContent"}})],1)],1)],1),e._v(" "),a("h2",[e._v("随访记录")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已提醒复诊 : "}},[a("el-cascader",{attrs:{options:e.sfreminderRevisit,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.reminderRevisit,callback:function(t){e.$set(e.form,"reminderRevisit",t)},expression:"form.reminderRevisit"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已预约复诊 : "}},[a("el-cascader",{attrs:{options:e.sfappointmentRevisit,props:{emitPath:!1}},on:{change:e.appointmentRevisitChange},model:{value:e.form.appointmentRevisit,callback:function(t){e.$set(e.form,"appointmentRevisit",t)},expression:"form.appointmentRevisit"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.isAppointmentRevisit,expression:"isAppointmentRevisit"}],attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"预约科室 : "}},[a("el-cascader",{attrs:{options:e.sfdepartment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"复诊时间 : "}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",required:""},model:{value:e.form.revisitTime,callback:function(t){e.$set(e.form,"revisitTime",t)},expression:"form.revisitTime"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康知晓度 : "}},[a("el-cascader",{attrs:{options:e.sfhealthAwareness,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.healthAwareness,callback:function(t){e.$set(e.form,"healthAwareness",t)},expression:"form.healthAwareness"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"满意度调研 : "}},[a("el-cascader",{attrs:{options:e.sfsatisfactionSurvey,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.satisfactionSurvey,callback:function(t){e.$set(e.form,"satisfactionSurvey",t)},expression:"form.satisfactionSurvey"}})],1)],1)],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("完成随访")]),e._v(" "),a("el-button",{on:{click:e.cancelBtn}},[e._v("取消")])],1)],2)],1)},staticRenderFns:[]};var m=a("VU/8")(r,c,!1,function(e){a("YJ77")},"data-v-22f42cf1",null);t.default=m.exports},YJ77:function(e,t){},Z3ld:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("mvHQ"),l=a.n(o),s=a("kMct"),n=a("EMXe"),i=a("Q338"),r={components:{ElButton:n.a,ElCol:s.a,tabHeader:i.a},name:"default",data:function(){return{form:{visitAuthor:"",patientId:"",motionNum:0,motionLength:0,visitRecordContent:{reactions:{},dosages:[{value:"",frequency:0,dose:0}]}},sfstatus:[{value:0,label:"未完成"},{value:1,label:"已完成"}],sfresult:[{value:0,label:"非有效随访"},{value:1,label:"有效随访"},{value:2,label:"勿访"},{value:3,label:"终止随访"}],sftype:[{value:1,label:"电话随访"},{value:2,label:"在线随访"},{value:3,label:"短信随访"}],sfdischargeStatus:[{value:0,label:"其他市级医院"},{value:1,label:"乡镇卫生医院治疗"},{value:2,label:"村卫生室治疗"},{value:3,label:"回家康复"},{value:4,label:"痊愈回家"}],sfassessment:[{value:1,label:"并发症"},{value:2,label:"相关指标控制不住"},{value:3,label:"控制不满意"},{value:4,label:"控制满意"},{value:5,label:"不良生活方式未改善"}],sfsymptom:[{value:0,label:"无症状"},{value:1,label:"有症状"}],sfsymptomName:[],sflifeAssessment:[{value:0,label:"无改善"},{value:1,label:"有改善"}],sfsmokingVolume:[{value:0,label:"未戒烟"},{value:1,label:"已戒烟"}],sfalcoholConsumption:[{value:0,label:"未减量"},{value:1,label:"已减量"}],sfregion:[{value:0,label:"差"},{value:1,label:"一般"},{value:2,label:"良好"}],sfmedicalCompliance:[{value:0,label:"差"},{value:1,label:"一般"},{value:2,label:"良好"}],sfcomplication:[{value:0,label:"无并发症"},{value:1,label:"有并发症 "}],sfbfz:[],sfbfzName:[],sfmedicationCompliance:[{value:0,label:"不服药"},{value:1,label:"间断"},{value:2,label:"规律"}],sfreactions:[{value:0,label:"无不良反应"},{value:1,label:"有不良反应"}],sfhealthGuidance:[{value:1,label:"是"},{value:0,label:"否"}],sfhealthGuidanceContent:[{value:1,label:"饮食指导"},{value:2,label:"用药指导"},{value:3,label:"注意事项"},{value:4,label:"心理指导"},{value:5,label:"睡眠指导"},{value:6,label:"康复指导"},{value:7,label:"戒烟限酒指导"}],sfreminderRevisit:[{value:1,label:"已提醒"},{value:0,label:"未提醒"}],sfappointmentRevisit:[{value:1,label:"已预约"},{value:0,label:"未预约"}],sfdepartment:[],sfhealthAwareness:[{value:0,label:"差"},{value:1,label:"一般"},{value:2,label:"良好"},{value:3,label:"优秀"}],sfsatisfactionSurvey:[{value:0,label:"不满意"},{value:1,label:"基本满意"},{value:2,label:"满意"},{value:3,label:"非常满意"}],isReactions:!1,isSmokingAmount:!1,isAlcoholConsumptionAmount:!1,isAppointmentRevisit:!1,ishealthGuidanceContent:!1,iscomplication:!1,iscomplicationName:!1,issfsymptomName:!1,bfzClassify:"",complicationName:"",personInfoId:"",personInfo:{}}},created:function(){this.personInfoId=this.$route.params.id,this.personInfo=JSON.parse(sessionStorage.getItem("personInfo")),this.getMedicalList(),this.getSymptomList()},mounted:function(){},methods:{sfsymptomChange:function(e){var t=this;1==e?(this.issfsymptomName=!0,this.$http.get("/api/common/getDataList?dataType=1").then(function(e){t.sfsymptomName=e.data}).catch(function(e){console.log(e)})):this.issfsymptomName=!1},reactionsChange:function(e){this.isReactions=1==e},smokingVolumeChange:function(e){this.isSmokingAmount=0==e},alcoholConsumptionChange:function(e){this.isAlcoholConsumptionAmount=0==e},appointmentRevisitChange:function(e){this.isAppointmentRevisit=1==e},healthGuidanceChange:function(e){this.ishealthGuidanceContent=1==e},complicationChange:function(e){1==e?(this.iscomplication=!0,this.getComplicationList()):this.iscomplication=!1},addDosage:function(){this.form.visitRecordContent.dosages.push({value:"",frequency:0,dose:0})},removeDosage:function(e){var t;-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1),-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1)},bfzChange:function(e){var t=this;this.iscomplicationName=!!e,this.$http.get("/api/common/getDataList?dataType=2&dataNum="+e).then(function(e){t.sfbfzName=e.data}).catch(function(e){console.log(e)})},onSubmit:function(){var e=this;if(void 0!==this.form.type){var t=this.form;if(t.patientId=this.personInfo.id,t.visitAuthor=this.$store.state.user.user.id,t.revisitTime){var a=t.revisitTime,o=a.getFullYear(),s=a.getMonth()+1,n=a.getDate();s<10&&(s="0"+s),n<10&&(n="0"+n);var i=o+"-"+s+"-"+n;t.revisitTime=i}t.complication instanceof Array&&(t.complication=this.form.complication.join(",")),t.symptom instanceof Array&&(t.symptom=this.form.symptom.join(","));var r=l()(t.visitRecordContent);t.visitRecordContent=r,this.$http.post("/api/visitRecord/insertVisitRecord",t).then(function(t){t.data?(e.$message.success("新增随访成功！"),setTimeout(function(){e.$router.replace({name:"EssentialInfo",params:{selectId:"sfjl"}})},1500)):e.$message.error("新增随访失败！")}).catch(function(t){e.$message.error("随访新增失败！"),console.log(t)})}else this.$message.warning("随访方式未选择！")},cancelBtn:function(){this.$router.go(-1)},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},getMedicalList:function(){var e=this;this.$http.get("/api/medicalSections/getMedicalSectionsList?hospitalId="+this.$store.state.user.user.hospitalId.id).then(function(t){e.sfdepartment=t.data}).catch(function(e){console.log(e)})},getSymptomList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=1").then(function(t){e.sfsymptom[1].children=t.data}).catch(function(e){console.log(e)})},getComplicationList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=2").then(function(t){e.sfbfz=t.data}).catch(function(e){console.log(e)})},handleClick:function(e,t){console.log(e,t)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("1通用模板")]),e._v(" "),a("tab-header",{attrs:{personInfo:e.personInfo}}),e._v(" "),a("el-form",{ref:"form",staticClass:"createVisit_form",attrs:{model:e.form,"label-width":"135px"}},[a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访状态 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.sfstatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访结果 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}},e._l(e.sfresult,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访方式 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.sftype,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出院/转出情况:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.dischargeStatus,callback:function(t){e.$set(e.form,"dischargeStatus",t)},expression:"form.dischargeStatus"}},e._l(e.sfdischargeStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"本次随访评估:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.assessment,callback:function(t){e.$set(e.form,"assessment",t)},expression:"form.assessment"}},e._l(e.sfassessment,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("h2",[e._v("目前症状")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"有无症状 : "}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.sfsymptomChange},model:{value:e.form.visitRecordContent.issymptom,callback:function(t){e.$set(e.form.visitRecordContent,"issymptom",t)},expression:"form.visitRecordContent.issymptom"}},e._l(e.sfsymptom,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.issfsymptomName,expression:"issfsymptomName"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"请选择症状 : "}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.symptom,callback:function(t){e.$set(e.form,"symptom",t)},expression:"form.symptom"}},e._l(e.sfsymptomName,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("h2",[e._v("生活方式")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"总体评估 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.visitRecordContent.lifeAssessment,callback:function(t){e.$set(e.form.visitRecordContent,"lifeAssessment",t)},expression:"form.visitRecordContent.lifeAssessment"}},e._l(e.sflifeAssessment,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"吸烟量 : "}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.smokingVolumeChange},model:{value:e.form.smokingVolume,callback:function(t){e.$set(e.form,"smokingVolume",t)},expression:"form.smokingVolume"}},e._l(e.sfsmokingVolume,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isSmokingAmount,expression:"isSmokingAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"支/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.smokingAmount,callback:function(t){e.$set(e.form.visitRecordContent,"smokingAmount",t)},expression:"form.visitRecordContent.smokingAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"饮酒量 : "}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.alcoholConsumptionChange},model:{value:e.form.alcoholConsumption,callback:function(t){e.$set(e.form,"alcoholConsumption",t)},expression:"form.alcoholConsumption"}},e._l(e.sfalcoholConsumption,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isAlcoholConsumptionAmount,expression:"isAlcoholConsumptionAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"ML/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.alcoholConsumptionAmount,callback:function(t){e.$set(e.form.visitRecordContent,"alcoholConsumptionAmount",t)},expression:"form.visitRecordContent.alcoholConsumptionAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"膳食脂肪"}},[a("el-input",{model:{value:e.form.visitRecordContent.dietaryFat,callback:function(t){e.$set(e.form.visitRecordContent,"dietaryFat",t)},expression:"form.visitRecordContent.dietaryFat"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"摄盐情况(克/天)"}},[a("el-input",{model:{value:e.form.visitRecordContent.saltUptake,callback:function(t){e.$set(e.form.visitRecordContent,"saltUptake",t)},expression:"form.visitRecordContent.saltUptake"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(次/周)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.visitRecordContent.motionNum,callback:function(t){e.$set(e.form.visitRecordContent,"motionNum",t)},expression:"form.visitRecordContent.motionNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(分钟/次)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.visitRecordContent.otionLength,callback:function(t){e.$set(e.form.visitRecordContent,"otionLength",t)},expression:"form.visitRecordContent.otionLength"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"心理状况 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.visitRecordContent.region,callback:function(t){e.$set(e.form.visitRecordContent,"region",t)},expression:"form.visitRecordContent.region"}},e._l(e.sfregion,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"医从性 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.medicalCompliance,callback:function(t){e.$set(e.form,"medicalCompliance",t)},expression:"form.medicalCompliance"}},e._l(e.sfmedicalCompliance,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("h2",[e._v("并发症")]),e._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否有并发症状 : "}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.complicationChange},model:{value:e.form.visitRecordContent.iscomplication,callback:function(t){e.$set(e.form.visitRecordContent,"iscomplication",t)},expression:"form.visitRecordContent.iscomplication"}},e._l(e.sfcomplication,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplication,expression:"iscomplication"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"并发症 : "}},[a("el-select",{on:{change:e.bfzChange},model:{value:e.form.visitRecordContent.bfzClassify,callback:function(t){e.$set(e.form.visitRecordContent,"bfzClassify",t)},expression:"form.visitRecordContent.bfzClassify"}},e._l(e.sfbfz,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplicationName,expression:"iscomplicationName"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"具体症状："}},[a("el-select",{attrs:{multiple:""},model:{value:e.form.complication,callback:function(t){e.$set(e.form,"complication",t)},expression:"form.complication"}},e._l(e.sfbfzName,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1)],1),e._v(" "),a("h2",[e._v("用药情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"依从性 : "}},[a("el-select",{model:{value:e.form.medicationCompliance,callback:function(t){e.$set(e.form,"medicationCompliance",t)},expression:"form.medicationCompliance"}},e._l(e.sfmedicationCompliance,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1)],1),e._v(" "),e._l(e.form.visitRecordContent.dosages,function(t,o){return a("el-row",{key:o},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"药物名称"}},[a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"dosage.value"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"次/日"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"次"},model:{value:t.frequency,callback:function(a){e.$set(t,"frequency",a)},expression:"dosage.frequency"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"mg/次"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"mg"},model:{value:t.dose,callback:function(a){e.$set(t,"dose",a)},expression:"dosage.dose"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-button",{on:{click:function(a){return a.preventDefault(),e.removeDosage(t)}}},[e._v("删除")])],1)],1)],1)}),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-button",{on:{click:function(t){return t.preventDefault(),e.addDosage(t)}}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"药物不良反应 : "}},[a("el-select",{on:{change:e.reactionsChange},model:{value:e.form.visitRecordContent.reactions.value,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"value",t)},expression:"form.visitRecordContent.reactions.value"}},e._l(e.sfreactions,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isReactions,expression:"isReactions"}],attrs:{span:16}},[a("el-form-item",{attrs:{label:"不良反应："}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.visitRecordContent.reactions.desc,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"desc",t)},expression:"form.visitRecordContent.reactions.desc"}})],1)],1)],1),e._v(" "),a("h2",[e._v("异常化验项目")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"白细胞"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.whiteBloodCell,callback:function(t){e.$set(e.form.visitRecordContent,"whiteBloodCell",t)},expression:"form.visitRecordContent.whiteBloodCell"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血小板"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.platelet,callback:function(t){e.$set(e.form.visitRecordContent,"platelet",t)},expression:"form.visitRecordContent.platelet"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钾"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodPotassium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodPotassium",t)},expression:"form.visitRecordContent.bloodPotassium"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钙"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodCalcium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodCalcium",t)},expression:"form.visitRecordContent.bloodCalcium"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"凝血"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.blood_coagulation,callback:function(t){e.$set(e.form.visitRecordContent,"blood_coagulation",t)},expression:"form.visitRecordContent.blood_coagulation"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"甘油三脂"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.threeFat,callback:function(t){e.$set(e.form.visitRecordContent,"threeFat",t)},expression:"form.visitRecordContent.threeFat"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"其他"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.other,callback:function(t){e.$set(e.form.visitRecordContent,"other",t)},expression:"form.visitRecordContent.other"}})],1)],1)],1),e._v(" "),a("h2",[e._v("健康教育知晓")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否进行健康指导 : "}},[a("el-select",{on:{change:e.healthGuidanceChange},model:{value:e.form.visitRecordContent.healthGuidance,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidance",t)},expression:"form.visitRecordContent.healthGuidance"}},e._l(e.sfhealthGuidance,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.ishealthGuidanceContent,expression:"ishealthGuidanceContent"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康指导内容  : "}},[a("el-select",{model:{value:e.form.visitRecordContent.healthGuidanceContent,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidanceContent",t)},expression:"form.visitRecordContent.healthGuidanceContent"}},e._l(e.sfhealthGuidanceContent,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1)],1),e._v(" "),a("h2",[e._v("随访记录")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已提醒复诊 : "}},[a("el-select",{model:{value:e.form.reminderRevisit,callback:function(t){e.$set(e.form,"reminderRevisit",t)},expression:"form.reminderRevisit"}},e._l(e.sfreminderRevisit,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已预约复诊 : "}},[a("el-select",{on:{change:e.appointmentRevisitChange},model:{value:e.form.appointmentRevisit,callback:function(t){e.$set(e.form,"appointmentRevisit",t)},expression:"form.appointmentRevisit"}},e._l(e.sfappointmentRevisit,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.isAppointmentRevisit,expression:"isAppointmentRevisit"}],attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"预约科室 : "}},[a("el-select",{model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}},e._l(e.sfdepartment,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"复诊时间 : "}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",required:""},model:{value:e.form.revisitTime,callback:function(t){e.$set(e.form,"revisitTime",t)},expression:"form.revisitTime"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康知晓度 : "}},[a("el-select",{model:{value:e.form.healthAwareness,callback:function(t){e.$set(e.form,"healthAwareness",t)},expression:"form.healthAwareness"}},e._l(e.sfhealthAwareness,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"满意度调研 : "}},[a("el-select",{model:{value:e.form.satisfactionSurvey,callback:function(t){e.$set(e.form,"satisfactionSurvey",t)},expression:"form.satisfactionSurvey"}},e._l(e.sfsatisfactionSurvey,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"随访备注 : "}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("完成随访")]),e._v(" "),a("el-button",{on:{click:e.cancelBtn}},[e._v("取消")])],1)],2)],1)},staticRenderFns:[]};var m=a("VU/8")(r,c,!1,function(e){a("hlHj")},"data-v-1692aeb1",null);t.default=m.exports},aDGm:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("Z3ld"),l=a("oU6i"),s=a("zHVV"),n=a("+2Mg"),i=a("hPcf"),r=a("Vs5T"),c=a("UVg9"),m=a("ixzl"),u=a("O/9z"),f=a("tQ51"),v=a("EEv2"),p={components:{Default:o.default,Postpartum:l.default,Hepatopathy:s.default,Rheumatoid:n.default,Copd:i.default,Apoplexy:r.default,Endocrine:c.default,Gout:m.default,Dige:u.default,Heart:f.default,Tumour:v.default},name:"createVisit",data:function(){return{templateName:"default"}},created:function(){},mounted:function(){},methods:{handleClick:function(e,t){console.log(e,t)}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cr_container"},[a("el-tabs",{staticClass:"el_tab",on:{"tab-click":e.handleClick},model:{value:e.templateName,callback:function(t){e.templateName=t},expression:"templateName"}},[a("el-tab-pane",{attrs:{label:"通用模板",name:"default"}},[a("default")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"产后",name:"postpartum"}},[a("postpartum")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"肝病",name:"hepatopathy"}},[a("hepatopathy")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"类风湿",name:"rheumatoid"}},[a("rheumatoid")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"慢阻肺",name:"copd"}},[a("copd")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"脑卒中",name:"apoplexy"}},[a("apoplexy")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"内分泌",name:"endocrine"}},[a("endocrine")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"痛风",name:"gout"}},[a("gout")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"消化道出血",name:"dige"}},[a("dige")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"心内科疾病",name:"heart"}},[a("heart")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"肿瘤",name:"tumour"}},[a("tumour")],1)],1)],1)},staticRenderFns:[]};var h=a("VU/8")(p,d,!1,function(e){a("30hB")},"data-v-9046f13c",null);t.default=h.exports},co5M:function(e,t){},eSNU:function(e,t){},eaOr:function(e,t){},hPcf:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("mvHQ"),l=a.n(o),s=a("kMct"),n=a("EMXe"),i=a("Q338"),r={components:{ElButton:n.a,ElCol:s.a,tabHeader:i.a},name:"default",data:function(){return{form:{visitAuthor:"",patientId:"",motionNum:0,motionLength:0,visitRecordContent:{reactions:{},dosages:[{value:"",frequency:0,dose:0}]}},sfstatus:[{value:"0",label:"未完成"},{value:"1",label:"已完成"}],sfresult:[{value:"0",label:"非有效随访"},{value:"1",label:"有效随访"},{value:"2",label:"勿访"},{value:"3",label:"终止随访"}],sftype:[{value:"1",label:"电话随访"},{value:"2",label:"在线随访"},{value:"3",label:"短信随访"}],sfdischargeStatus:[{value:"0",label:"其他市级医院"},{value:"1",label:"乡镇卫生医院治疗"},{value:"2",label:"村卫生室治疗"},{value:"3",label:"回家康复"},{value:"4",label:"痊愈回家"}],sfassessment:[{value:"1",label:"并发症"},{value:"2",label:"相关指标控制不住"},{value:"3",label:"控制不满意"},{value:"4",label:"控制满意"},{value:"5",label:"不良生活方式未改善"}],sfsymptom:[{value:"0",label:"无症状"},{value:"1",label:"有症状",children:[]}],sflifeAssessment:[{value:"0",label:"无改善"},{value:"1",label:"有改善"}],sfsmokingVolume:[{value:"0",label:"未戒烟"},{value:"1",label:"已戒烟"}],sfalcoholConsumption:[{value:"0",label:"未减量"},{value:"1",label:"已减量"}],sfregion:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfmedicalCompliance:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfcomplication:[{value:"0",label:"无并发症"},{value:"1",label:"有并发症 "}],sfbfz:[],sfbfzName:[],bfz:{multiple:!0},sfmedicationCompliance:[{value:"0",label:"不服药"},{value:"1",label:"部分依从"},{value:"2",label:"完全依从"}],sfreactions:[{value:"0",label:"无不良反应"},{value:"1",label:"有不良反应"}],sfhealthGuidance:[{value:"1",label:"是"},{value:"0",label:"否"}],sfhealthGuidanceContent:[{value:"1",label:"饮食指导"},{value:"2",label:"用药指导"},{value:"3",label:"注意事项"},{value:"4",label:"心理指导"},{value:"5",label:"睡眠指导"},{value:"6",label:"康复指导"},{value:"7",label:"戒烟限酒指导"}],sfreminderRevisit:[{value:"1",label:"已提醒"},{value:"0",label:"未提醒"}],sfappointmentRevisit:[{value:"1",label:"已预约"},{value:"0",label:"未预约"}],sfdepartment:[{value:"0",label:"否"},{value:"1",label:"是",children:[]}],sfhealthAwareness:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"},{value:"3",label:"优秀"}],sfsatisfactionSurvey:[{value:"0",label:"不满意"},{value:"1",label:"基本满意"},{value:"2",label:"满意"},{value:"3",label:"非常满意"}],isReactions:!1,isSmokingAmount:!1,isAlcoholConsumptionAmount:!1,isAppointmentRevisit:!1,ishealthGuidanceContent:!1,iscomplication:!1,iscomplicationName:!1,bfzClassify:"",complicationName:"",personInfoId:"",personInfo:{}}},created:function(){this.personInfoId=this.$route.params.id,this.personInfo=JSON.parse(sessionStorage.getItem("personInfo")),this.getMedicalList(),this.getSymptomList()},mounted:function(){},methods:{reactionsChange:function(e){this.isReactions=1==e},smokingVolumeChange:function(e){this.isSmokingAmount=0==e},alcoholConsumptionChange:function(e){this.isAlcoholConsumptionAmount=0==e},appointmentRevisitChange:function(e){this.isAppointmentRevisit=1==e},healthGuidanceChange:function(e){this.ishealthGuidanceContent=1==e},complicationChange:function(e){1==e?(this.iscomplication=!0,this.getComplicationList()):this.iscomplication=!1},addDosage:function(){this.form.visitRecordContent.dosages.push({value:"",frequency:0,dose:0})},removeDosage:function(e){var t;-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1),-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1)},bfzChange:function(e){var t=this;this.iscomplicationName=!!e,this.$http.get("/api/common/getDataList?dataType=2&dataNum="+e).then(function(e){t.sfbfzName=e.data}).catch(function(e){console.log(e)})},onSubmit:function(){var e=this;if(""!==this.form.type){var t=this.form;if(t.patientId=this.personInfo.id,t.visitAuthor=this.$store.state.user.user.id,t.motionLength=Number(this.form.motionLength),t.motionNum=Number(this.form.motionNum),t.healthGuidanceContent instanceof Array&&(t.healthGuidanceContent=this.form.healthGuidanceContent.join(",")),t.complication instanceof Array){t.complication=this.form.complication.join(",");var a=l()(t.visitRecordContent);t.visitRecordContent=a}this.$http.post("/api/visitRecord/insertVisitRecord",t).then(function(a){t.healthGuidanceContent=[],a.data?(e.$message.success("新增随访成功！"),setTimeout(function(){e.$router.replace({name:"EssentialInfo",params:{selectId:"sfjl"}})},1500)):e.$message.error("新增随访失败！")}).catch(function(a){e.$message.error("随访新增失败！"),t.healthGuidanceContent=[],console.log(a)})}else this.$message.warning("随访方式未选择！")},cancelBtn:function(){this.$router.go(-1)},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},handleChange:function(e){console.log(e)},getMedicalList:function(){var e=this;this.$http.get("/api/medicalSections/getMedicalSectionsList?hospitalId="+this.$store.state.user.user.hospitalId.id).then(function(t){e.sfdepartment[1].children=t.data}).catch(function(e){console.log(e)})},getSymptomList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=1").then(function(t){e.sfsymptom[1].children=t.data}).catch(function(e){console.log(e)})},getComplicationList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=2").then(function(t){e.sfbfz=t.data}).catch(function(e){console.log(e)})},handleClick:function(e,t){console.log(e,t)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("5慢阻肺模板")]),e._v(" "),a("tab-header",{attrs:{personInfo:e.personInfo}}),e._v(" "),a("el-form",{ref:"form",staticClass:"createVisit_form",attrs:{model:e.form,"label-width":"135px"}},[a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访状态 : "}},[a("el-cascader",{attrs:{options:e.sfstatus,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访结果 : "}},[a("el-cascader",{attrs:{options:e.sfresult,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访方式 : "}},[a("el-cascader",{attrs:{options:e.sftype,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出院/转出情况:"}},[a("el-cascader",{attrs:{placeholder:"请选择出院/转出情况",options:e.sfdischargeStatus,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.dischargeStatus,callback:function(t){e.$set(e.form,"dischargeStatus",t)},expression:"form.dischargeStatus"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"本次随访评估:"}},[a("el-cascader",{attrs:{options:e.sfassessment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.assessment,callback:function(t){e.$set(e.form,"assessment",t)},expression:"form.assessment"}})],1)],1)],1),e._v(" "),a("h2",[e._v("项目随访情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"请选择症状 : "}},[a("el-cascader",{attrs:{options:e.sfsymptom,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.symptom,callback:function(t){e.$set(e.form,"symptom",t)},expression:"form.symptom"}})],1)],1)],1),e._v(" "),a("h2",[e._v("生活方式")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"总体评估 : "}},[a("el-cascader",{attrs:{options:e.sflifeAssessment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.visitRecordContent.lifeAssessment,callback:function(t){e.$set(e.form.visitRecordContent,"lifeAssessment",t)},expression:"form.visitRecordContent.lifeAssessment"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"吸烟量 : "}},[a("el-cascader",{attrs:{options:e.sfsmokingVolume,props:{emitPath:!1}},on:{change:e.smokingVolumeChange},model:{value:e.form.smokingVolume,callback:function(t){e.$set(e.form,"smokingVolume",t)},expression:"form.smokingVolume"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isSmokingAmount,expression:"isSmokingAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"支/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.smokingAmount,callback:function(t){e.$set(e.form.visitRecordContent,"smokingAmount",t)},expression:"form.visitRecordContent.smokingAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"饮酒量 : "}},[a("el-cascader",{attrs:{options:e.sfalcoholConsumption,props:{emitPath:!1}},on:{change:e.alcoholConsumptionChange},model:{value:e.form.alcoholConsumption,callback:function(t){e.$set(e.form,"alcoholConsumption",t)},expression:"form.alcoholConsumption"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isAlcoholConsumptionAmount,expression:"isAlcoholConsumptionAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"ML/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.alcoholConsumptionAmount,callback:function(t){e.$set(e.form.visitRecordContent,"alcoholConsumptionAmount",t)},expression:"form.visitRecordContent.alcoholConsumptionAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"膳食脂肪"}},[a("el-input",{model:{value:e.form.dietaryFat,callback:function(t){e.$set(e.form,"dietaryFat",t)},expression:"form.dietaryFat"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(次/周)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionNum,callback:function(t){e.$set(e.form,"motionNum",t)},expression:"form.motionNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(分钟/次)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionLength,callback:function(t){e.$set(e.form,"motionLength",t)},expression:"form.motionLength"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"摄盐情况(克/天)"}},[a("el-input",{model:{value:e.form.saltUptake,callback:function(t){e.$set(e.form,"saltUptake",t)},expression:"form.saltUptake"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"心理调整 : "}},[a("el-cascader",{attrs:{options:e.sfregion,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"医从性 : "}},[a("el-cascader",{attrs:{options:e.sfmedicalCompliance,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.medicalCompliance,callback:function(t){e.$set(e.form,"medicalCompliance",t)},expression:"form.medicalCompliance"}})],1)],1)],1),e._v(" "),a("h2",[e._v("并发症")]),e._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否有并发症状 : "}},[a("el-cascader",{attrs:{options:e.sfcomplication},on:{change:e.complicationChange}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplication,expression:"iscomplication"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"并发症 : "}},[a("el-select",{on:{change:e.bfzChange},model:{value:e.bfzClassify,callback:function(t){e.bfzClassify=t},expression:"bfzClassify"}},e._l(e.sfbfz,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplicationName,expression:"iscomplicationName"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"具体症状："}},[a("el-cascader",{attrs:{options:e.sfbfzName,props:e.bfz},model:{value:e.form.complication,callback:function(t){e.$set(e.form,"complication",t)},expression:"form.complication"}})],1)],1)],1),e._v(" "),a("h2",[e._v("用药情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"依从性 : "}},[a("el-cascader",{attrs:{options:e.sfmedicationCompliance,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.medicationCompliance,callback:function(t){e.$set(e.form,"medicationCompliance",t)},expression:"form.medicationCompliance"}})],1)],1)],1),e._v(" "),e._l(e.form.visitRecordContent.dosages,function(t,o){return a("el-row",{key:o},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"药物名称"}},[a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"dosage.value"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"次/日"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"次"},model:{value:t.frequency,callback:function(a){e.$set(t,"frequency",a)},expression:"dosage.frequency"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"mg/次"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"mg"},model:{value:t.dose,callback:function(a){e.$set(t,"dose",a)},expression:"dosage.dose"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-button",{on:{click:function(a){return a.preventDefault(),e.removeDosage(t)}}},[e._v("删除")])],1)],1)],1)}),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-button",{on:{click:function(t){return t.preventDefault(),e.addDosage(t)}}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"药物不良反应 : "}},[a("el-cascader",{attrs:{options:e.sfreactions,props:{emitPath:!1}},on:{change:e.reactionsChange},model:{value:e.form.visitRecordContent.reactions.value,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"value",t)},expression:"form.visitRecordContent.reactions.value"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isReactions,expression:"isReactions"}],attrs:{span:16}},[a("el-form-item",{attrs:{label:"不良反应："}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.visitRecordContent.reactions.desc,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"desc",t)},expression:"form.visitRecordContent.reactions.desc"}})],1)],1)],1),e._v(" "),a("h2",[e._v("异常化验项目")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"白细胞"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.whiteBloodCell,callback:function(t){e.$set(e.form.visitRecordContent,"whiteBloodCell",t)},expression:"form.visitRecordContent.whiteBloodCell"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血小板"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.platelet,callback:function(t){e.$set(e.form.visitRecordContent,"platelet",t)},expression:"form.visitRecordContent.platelet"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钾"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodPotassium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodPotassium",t)},expression:"form.visitRecordContent.bloodPotassium"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钙"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodCalcium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodCalcium",t)},expression:"form.visitRecordContent.bloodCalcium"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"凝血"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.blood_coagulation,callback:function(t){e.$set(e.form.visitRecordContent,"blood_coagulation",t)},expression:"form.visitRecordContent.blood_coagulation"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"甘油三脂"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.threeFat,callback:function(t){e.$set(e.form.visitRecordContent,"threeFat",t)},expression:"form.visitRecordContent.threeFat"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"其他"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.other,callback:function(t){e.$set(e.form.visitRecordContent,"other",t)},expression:"form.visitRecordContent.other"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"随访备注 : "}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("h2",[e._v("健康教育知晓")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否进行健康指导 : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidance,props:{emitPath:!1}},on:{change:e.healthGuidanceChange},model:{value:e.form.visitRecordContent.healthGuidance,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidance",t)},expression:"form.visitRecordContent.healthGuidance"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.ishealthGuidanceContent,expression:"ishealthGuidanceContent"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康指导内容  : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidanceContent,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.visitRecordContent.healthGuidanceContent,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidanceContent",t)},expression:"form.visitRecordContent.healthGuidanceContent"}})],1)],1)],1),e._v(" "),a("h2",[e._v("随访记录")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已提醒复诊 : "}},[a("el-cascader",{attrs:{options:e.sfreminderRevisit,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.reminderRevisit,callback:function(t){e.$set(e.form,"reminderRevisit",t)},expression:"form.reminderRevisit"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已预约复诊 : "}},[a("el-cascader",{attrs:{options:e.sfappointmentRevisit,props:{emitPath:!1}},on:{change:e.appointmentRevisitChange},model:{value:e.form.appointmentRevisit,callback:function(t){e.$set(e.form,"appointmentRevisit",t)},expression:"form.appointmentRevisit"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.isAppointmentRevisit,expression:"isAppointmentRevisit"}],attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"预约科室 : "}},[a("el-cascader",{attrs:{options:e.sfdepartment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"复诊时间 : "}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",required:""},model:{value:e.form.revisitTime,callback:function(t){e.$set(e.form,"revisitTime",t)},expression:"form.revisitTime"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康知晓度 : "}},[a("el-cascader",{attrs:{options:e.sfhealthAwareness,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.healthAwareness,callback:function(t){e.$set(e.form,"healthAwareness",t)},expression:"form.healthAwareness"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"满意度调研 : "}},[a("el-cascader",{attrs:{options:e.sfsatisfactionSurvey,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.satisfactionSurvey,callback:function(t){e.$set(e.form,"satisfactionSurvey",t)},expression:"form.satisfactionSurvey"}})],1)],1)],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("完成随访")]),e._v(" "),a("el-button",{on:{click:e.cancelBtn}},[e._v("取消")])],1)],2)],1)},staticRenderFns:[]};var m=a("VU/8")(r,c,!1,function(e){a("eaOr")},"data-v-44100c15",null);t.default=m.exports},hlHj:function(e,t){},iwPj:function(e,t){},ixzl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("mvHQ"),l=a.n(o),s=a("kMct"),n=a("EMXe"),i=a("Q338"),r={components:{ElButton:n.a,ElCol:s.a,tabHeader:i.a},name:"default",data:function(){return{form:{visitAuthor:"",patientId:"",motionNum:0,motionLength:0,visitRecordContent:{reactions:{},dosages:[{value:"",frequency:0,dose:0}]}},sfstatus:[{value:"0",label:"未完成"},{value:"1",label:"已完成"}],sfresult:[{value:"0",label:"非有效随访"},{value:"1",label:"有效随访"},{value:"2",label:"勿访"},{value:"3",label:"终止随访"}],sftype:[{value:"1",label:"电话随访"},{value:"2",label:"在线随访"},{value:"3",label:"短信随访"}],sfdischargeStatus:[{value:"0",label:"其他市级医院"},{value:"1",label:"乡镇卫生医院治疗"},{value:"2",label:"村卫生室治疗"},{value:"3",label:"回家康复"},{value:"4",label:"痊愈回家"}],sfassessment:[{value:"1",label:"并发症"},{value:"2",label:"相关指标控制不住"},{value:"3",label:"控制不满意"},{value:"4",label:"控制满意"},{value:"5",label:"不良生活方式未改善"}],sfsymptom:[{value:"0",label:"无症状"},{value:"1",label:"有症状",children:[]}],sflifeAssessment:[{value:"0",label:"无改善"},{value:"1",label:"有改善"}],sfsmokingVolume:[{value:"0",label:"未戒烟"},{value:"1",label:"已戒烟"}],sfalcoholConsumption:[{value:"0",label:"未减量"},{value:"1",label:"已减量"}],sfregion:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfmedicalCompliance:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfcomplication:[{value:"0",label:"无并发症"},{value:"1",label:"有并发症 "}],sfbfz:[],sfbfzName:[],bfz:{multiple:!0},sfmedicationCompliance:[{value:"0",label:"不服药"},{value:"1",label:"部分依从"},{value:"2",label:"完全依从"}],sfreactions:[{value:"0",label:"无不良反应"},{value:"1",label:"有不良反应"}],sfhealthGuidance:[{value:"1",label:"是"},{value:"0",label:"否"}],sfhealthGuidanceContent:[{value:"1",label:"饮食指导"},{value:"2",label:"用药指导"},{value:"3",label:"注意事项"},{value:"4",label:"心理指导"},{value:"5",label:"睡眠指导"},{value:"6",label:"康复指导"},{value:"7",label:"戒烟限酒指导"}],sfreminderRevisit:[{value:"1",label:"已提醒"},{value:"0",label:"未提醒"}],sfappointmentRevisit:[{value:"1",label:"已预约"},{value:"0",label:"未预约"}],sfdepartment:[{value:"0",label:"否"},{value:"1",label:"是",children:[]}],sfhealthAwareness:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"},{value:"3",label:"优秀"}],sfsatisfactionSurvey:[{value:"0",label:"不满意"},{value:"1",label:"基本满意"},{value:"2",label:"满意"},{value:"3",label:"非常满意"}],isReactions:!1,isSmokingAmount:!1,isAlcoholConsumptionAmount:!1,isAppointmentRevisit:!1,ishealthGuidanceContent:!1,iscomplication:!1,iscomplicationName:!1,bfzClassify:"",complicationName:"",personInfoId:"",personInfo:{}}},created:function(){this.personInfoId=this.$route.params.id,this.personInfo=JSON.parse(sessionStorage.getItem("personInfo")),this.getMedicalList(),this.getSymptomList()},mounted:function(){},methods:{reactionsChange:function(e){this.isReactions=1==e},smokingVolumeChange:function(e){this.isSmokingAmount=0==e},alcoholConsumptionChange:function(e){this.isAlcoholConsumptionAmount=0==e},appointmentRevisitChange:function(e){this.isAppointmentRevisit=1==e},healthGuidanceChange:function(e){this.ishealthGuidanceContent=1==e},complicationChange:function(e){1==e?(this.iscomplication=!0,this.getComplicationList()):this.iscomplication=!1},addDosage:function(){this.form.visitRecordContent.dosages.push({value:"",frequency:0,dose:0})},removeDosage:function(e){var t;-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1),-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1)},bfzChange:function(e){var t=this;this.iscomplicationName=!!e,this.$http.get("/api/common/getDataList?dataType=2&dataNum="+e).then(function(e){t.sfbfzName=e.data}).catch(function(e){console.log(e)})},onSubmit:function(){var e=this;if(""!==this.form.type){var t=this.form;if(t.patientId=this.personInfo.id,t.visitAuthor=this.$store.state.user.user.id,t.motionLength=Number(this.form.motionLength),t.motionNum=Number(this.form.motionNum),t.healthGuidanceContent instanceof Array&&(t.healthGuidanceContent=this.form.healthGuidanceContent.join(",")),t.complication instanceof Array){t.complication=this.form.complication.join(",");var a=l()(t.visitRecordContent);t.visitRecordContent=a}this.$http.post("/api/visitRecord/insertVisitRecord",t).then(function(a){t.healthGuidanceContent=[],a.data?(e.$message.success("新增随访成功！"),setTimeout(function(){e.$router.replace({name:"EssentialInfo",params:{selectId:"sfjl"}})},1500)):e.$message.error("新增随访失败！")}).catch(function(a){e.$message.error("随访新增失败！"),t.healthGuidanceContent=[],console.log(a)})}else this.$message.warning("随访方式未选择！")},cancelBtn:function(){this.$router.go(-1)},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},handleChange:function(e){console.log(e)},getMedicalList:function(){var e=this;this.$http.get("/api/medicalSections/getMedicalSectionsList?hospitalId="+this.$store.state.user.user.hospitalId.id).then(function(t){e.sfdepartment[1].children=t.data}).catch(function(e){console.log(e)})},getSymptomList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=1").then(function(t){e.sfsymptom[1].children=t.data}).catch(function(e){console.log(e)})},getComplicationList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=2").then(function(t){e.sfbfz=t.data}).catch(function(e){console.log(e)})},handleClick:function(e,t){console.log(e,t)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("8痛风模板")]),e._v(" "),a("tab-header",{attrs:{personInfo:e.personInfo}}),e._v(" "),a("el-form",{ref:"form",staticClass:"createVisit_form",attrs:{model:e.form,"label-width":"135px"}},[a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访状态 : "}},[a("el-cascader",{attrs:{options:e.sfstatus,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访结果 : "}},[a("el-cascader",{attrs:{options:e.sfresult,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访方式 : "}},[a("el-cascader",{attrs:{options:e.sftype,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出院/转出情况:"}},[a("el-cascader",{attrs:{placeholder:"请选择出院/转出情况",options:e.sfdischargeStatus,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.dischargeStatus,callback:function(t){e.$set(e.form,"dischargeStatus",t)},expression:"form.dischargeStatus"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"本次随访评估:"}},[a("el-cascader",{attrs:{options:e.sfassessment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.assessment,callback:function(t){e.$set(e.form,"assessment",t)},expression:"form.assessment"}})],1)],1)],1),e._v(" "),a("h2",[e._v("项目随访情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"请选择症状 : "}},[a("el-cascader",{attrs:{options:e.sfsymptom,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.symptom,callback:function(t){e.$set(e.form,"symptom",t)},expression:"form.symptom"}})],1)],1)],1),e._v(" "),a("h2",[e._v("生活方式")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"总体评估 : "}},[a("el-cascader",{attrs:{options:e.sflifeAssessment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.visitRecordContent.lifeAssessment,callback:function(t){e.$set(e.form.visitRecordContent,"lifeAssessment",t)},expression:"form.visitRecordContent.lifeAssessment"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"吸烟量 : "}},[a("el-cascader",{attrs:{options:e.sfsmokingVolume,props:{emitPath:!1}},on:{change:e.smokingVolumeChange},model:{value:e.form.smokingVolume,callback:function(t){e.$set(e.form,"smokingVolume",t)},expression:"form.smokingVolume"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isSmokingAmount,expression:"isSmokingAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"支/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.smokingAmount,callback:function(t){e.$set(e.form.visitRecordContent,"smokingAmount",t)},expression:"form.visitRecordContent.smokingAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"饮酒量 : "}},[a("el-cascader",{attrs:{options:e.sfalcoholConsumption,props:{emitPath:!1}},on:{change:e.alcoholConsumptionChange},model:{value:e.form.alcoholConsumption,callback:function(t){e.$set(e.form,"alcoholConsumption",t)},expression:"form.alcoholConsumption"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isAlcoholConsumptionAmount,expression:"isAlcoholConsumptionAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"ML/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.alcoholConsumptionAmount,callback:function(t){e.$set(e.form.visitRecordContent,"alcoholConsumptionAmount",t)},expression:"form.visitRecordContent.alcoholConsumptionAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"膳食脂肪"}},[a("el-input",{model:{value:e.form.dietaryFat,callback:function(t){e.$set(e.form,"dietaryFat",t)},expression:"form.dietaryFat"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(次/周)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionNum,callback:function(t){e.$set(e.form,"motionNum",t)},expression:"form.motionNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(分钟/次)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionLength,callback:function(t){e.$set(e.form,"motionLength",t)},expression:"form.motionLength"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"摄盐情况(克/天)"}},[a("el-input",{model:{value:e.form.saltUptake,callback:function(t){e.$set(e.form,"saltUptake",t)},expression:"form.saltUptake"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"心理调整 : "}},[a("el-cascader",{attrs:{options:e.sfregion,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"医从性 : "}},[a("el-cascader",{attrs:{options:e.sfmedicalCompliance,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.medicalCompliance,callback:function(t){e.$set(e.form,"medicalCompliance",t)},expression:"form.medicalCompliance"}})],1)],1)],1),e._v(" "),a("h2",[e._v("并发症")]),e._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否有并发症状 : "}},[a("el-cascader",{attrs:{options:e.sfcomplication},on:{change:e.complicationChange}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplication,expression:"iscomplication"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"并发症 : "}},[a("el-select",{on:{change:e.bfzChange},model:{value:e.bfzClassify,callback:function(t){e.bfzClassify=t},expression:"bfzClassify"}},e._l(e.sfbfz,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplicationName,expression:"iscomplicationName"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"具体症状："}},[a("el-cascader",{attrs:{options:e.sfbfzName,props:e.bfz},model:{value:e.form.complication,callback:function(t){e.$set(e.form,"complication",t)},expression:"form.complication"}})],1)],1)],1),e._v(" "),a("h2",[e._v("用药情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"依从性 : "}},[a("el-cascader",{attrs:{options:e.sfmedicationCompliance,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.medicationCompliance,callback:function(t){e.$set(e.form,"medicationCompliance",t)},expression:"form.medicationCompliance"}})],1)],1)],1),e._v(" "),e._l(e.form.visitRecordContent.dosages,function(t,o){return a("el-row",{key:o},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"药物名称"}},[a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"dosage.value"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"次/日"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"次"},model:{value:t.frequency,callback:function(a){e.$set(t,"frequency",a)},expression:"dosage.frequency"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"mg/次"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"mg"},model:{value:t.dose,callback:function(a){e.$set(t,"dose",a)},expression:"dosage.dose"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-button",{on:{click:function(a){return a.preventDefault(),e.removeDosage(t)}}},[e._v("删除")])],1)],1)],1)}),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-button",{on:{click:function(t){return t.preventDefault(),e.addDosage(t)}}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"药物不良反应 : "}},[a("el-cascader",{attrs:{options:e.sfreactions,props:{emitPath:!1}},on:{change:e.reactionsChange},model:{value:e.form.visitRecordContent.reactions.value,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"value",t)},expression:"form.visitRecordContent.reactions.value"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isReactions,expression:"isReactions"}],attrs:{span:16}},[a("el-form-item",{attrs:{label:"不良反应："}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.visitRecordContent.reactions.desc,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"desc",t)},expression:"form.visitRecordContent.reactions.desc"}})],1)],1)],1),e._v(" "),a("h2",[e._v("异常化验项目")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"白细胞"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.whiteBloodCell,callback:function(t){e.$set(e.form.visitRecordContent,"whiteBloodCell",t)},expression:"form.visitRecordContent.whiteBloodCell"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血小板"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.platelet,callback:function(t){e.$set(e.form.visitRecordContent,"platelet",t)},expression:"form.visitRecordContent.platelet"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钾"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodPotassium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodPotassium",t)},expression:"form.visitRecordContent.bloodPotassium"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钙"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodCalcium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodCalcium",t)},expression:"form.visitRecordContent.bloodCalcium"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"凝血"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.blood_coagulation,callback:function(t){e.$set(e.form.visitRecordContent,"blood_coagulation",t)},expression:"form.visitRecordContent.blood_coagulation"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"甘油三脂"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.threeFat,callback:function(t){e.$set(e.form.visitRecordContent,"threeFat",t)},expression:"form.visitRecordContent.threeFat"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"其他"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.other,callback:function(t){e.$set(e.form.visitRecordContent,"other",t)},expression:"form.visitRecordContent.other"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"随访备注 : "}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("h2",[e._v("健康教育知晓")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否进行健康指导 : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidance,props:{emitPath:!1}},on:{change:e.healthGuidanceChange},model:{value:e.form.visitRecordContent.healthGuidance,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidance",t)},expression:"form.visitRecordContent.healthGuidance"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.ishealthGuidanceContent,expression:"ishealthGuidanceContent"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康指导内容  : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidanceContent,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.visitRecordContent.healthGuidanceContent,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidanceContent",t)},expression:"form.visitRecordContent.healthGuidanceContent"}})],1)],1)],1),e._v(" "),a("h2",[e._v("随访记录")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已提醒复诊 : "}},[a("el-cascader",{attrs:{options:e.sfreminderRevisit,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.reminderRevisit,callback:function(t){e.$set(e.form,"reminderRevisit",t)},expression:"form.reminderRevisit"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已预约复诊 : "}},[a("el-cascader",{attrs:{options:e.sfappointmentRevisit,props:{emitPath:!1}},on:{change:e.appointmentRevisitChange},model:{value:e.form.appointmentRevisit,callback:function(t){e.$set(e.form,"appointmentRevisit",t)},expression:"form.appointmentRevisit"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.isAppointmentRevisit,expression:"isAppointmentRevisit"}],attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"预约科室 : "}},[a("el-cascader",{attrs:{options:e.sfdepartment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"复诊时间 : "}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",required:""},model:{value:e.form.revisitTime,callback:function(t){e.$set(e.form,"revisitTime",t)},expression:"form.revisitTime"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康知晓度 : "}},[a("el-cascader",{attrs:{options:e.sfhealthAwareness,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.healthAwareness,callback:function(t){e.$set(e.form,"healthAwareness",t)},expression:"form.healthAwareness"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"满意度调研 : "}},[a("el-cascader",{attrs:{options:e.sfsatisfactionSurvey,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.satisfactionSurvey,callback:function(t){e.$set(e.form,"satisfactionSurvey",t)},expression:"form.satisfactionSurvey"}})],1)],1)],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("完成随访")]),e._v(" "),a("el-button",{on:{click:e.cancelBtn}},[e._v("取消")])],1)],2)],1)},staticRenderFns:[]};var m=a("VU/8")(r,c,!1,function(e){a("V1zS")},"data-v-3a1fdd76",null);t.default=m.exports},kyo3:function(e,t){},oU6i:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("mvHQ"),l=a.n(o),s=a("kMct"),n=a("EMXe"),i=a("Q338"),r={components:{ElButton:n.a,ElCol:s.a,tabHeader:i.a},name:"default",data:function(){return{form:{visitAuthor:"",patientId:"",motionNum:0,motionLength:0,visitRecordContent:{reactions:{},dosages:[{value:"",frequency:0,dose:0}]}},sfstatus:[{value:0,label:"未完成"},{value:1,label:"已完成"}],sfresult:[{value:0,label:"非有效随访"},{value:1,label:"有效随访"},{value:2,label:"勿访"},{value:3,label:"终止随访"}],sftype:[{value:1,label:"电话随访"},{value:2,label:"在线随访"},{value:3,label:"短信随访"}],sfdischargeStatus:[{value:0,label:"其他市级医院"},{value:1,label:"乡镇卫生医院治疗"},{value:2,label:"村卫生室治疗"},{value:3,label:"回家康复"},{value:4,label:"痊愈回家"}],sfassessment:[{value:1,label:"并发症"},{value:2,label:"相关指标控制不住"},{value:3,label:"控制不满意"},{value:4,label:"控制满意"},{value:5,label:"不良生活方式未改善"}],sfsymptom:[{value:0,label:"无症状"},{value:1,label:"有症状"}],sfsymptomName:[],sfhygiene:[{value:0,label:"会阴护理"},{value:1,label:"刷牙"},{value:2,label:"洗脚"},{value:3,label:"淋浴"}],sfpsychology:[{value:0,label:"愉悦"},{value:1,label:"低落"},{value:2,label:"感觉身心疲惫"}],sfbreastFeeding:[{value:0,label:"纯母乳喂养"},{value:1,label:"混合喂养"},{value:2,label:"人工喂养"}],sfjaundice:[{value:0,label:"已退"},{value:1,label:"轻"},{value:2,label:"重"}],sffunicle:[{value:1,label:"是"},{value:0,label:"否"}],sfvaccine:[{value:1,label:"正常接种"},{value:0,label:"需要补种"}],sfskin:[{value:1,label:"是"},{value:0,label:"否"}],sfsleep:[{value:2,label:"良好"},{value:1,label:"一般"},{value:0,label:"差"}],sflife:[{value:0,label:"完全自理"},{value:1,label:"部分自理"},{value:2,label:"完全不能自理"}],sfnutrition:[{value:1,label:"是"},{value:0,label:"否"}],sfdiet:[{value:0,label:"喜甜"},{value:1,label:"喜咸"},{value:2,label:"喜烫食"},{value:3,label:"喜油炸"}],sffruits:[{value:0,label:"少"},{value:1,label:"多"}],sfmilk:[{value:0,label:"少"},{value:1,label:"多"}],sfeat:[{value:0,label:"3次"},{value:1,label:"多于3次"}],sflsalt:[{value:1,label:"是"},{value:0,label:"否"}],sflfat:[{value:1,label:"是"},{value:0,label:"否"}],sflifeAssessment:[{value:0,label:"无改善"},{value:1,label:"有改善"}],sfsmokingVolume:[{value:0,label:"未戒烟"},{value:1,label:"已戒烟"}],sfalcoholConsumption:[{value:0,label:"未减量"},{value:1,label:"已减量"}],sfregion:[{value:0,label:"差"},{value:1,label:"一般"},{value:2,label:"良好"}],sfmedicalCompliance:[{value:0,label:"差"},{value:1,label:"一般"},{value:2,label:"良好"}],sfcomplication:[{value:0,label:"无并发症"},{value:1,label:"有并发症 "}],sfbfz:[],sfbfzName:[],sfmedicationCompliance:[{value:0,label:"不服药"},{value:1,label:"部分依从"},{value:2,label:"完全依从"}],sfreactions:[{value:0,label:"无不良反应"},{value:1,label:"有不良反应"}],sfhealthGuidance:[{value:1,label:"是"},{value:0,label:"否"}],sfhealthGuidanceContent:[{value:1,label:"饮食指导"},{value:2,label:"用药指导"},{value:3,label:"注意事项"},{value:4,label:"心理指导"},{value:5,label:"睡眠指导"},{value:6,label:"康复指导"},{value:7,label:"戒烟限酒指导"}],sfreminderRevisit:[{value:1,label:"已提醒"},{value:0,label:"未提醒"}],sfappointmentRevisit:[{value:1,label:"已预约"},{value:0,label:"未预约"}],sfdepartment:[],sfhealthAwareness:[{value:0,label:"差"},{value:1,label:"一般"},{value:2,label:"良好"},{value:3,label:"优秀"}],sfsatisfactionSurvey:[{value:0,label:"不满意"},{value:1,label:"基本满意"},{value:2,label:"满意"},{value:3,label:"非常满意"}],isReactions:!1,isSmokingAmount:!1,isAlcoholConsumptionAmount:!1,isAppointmentRevisit:!1,ishealthGuidanceContent:!1,iscomplication:!1,iscomplicationName:!1,issfsymptomName:!1,bfzClassify:"",complicationName:"",personInfoId:"",personInfo:{}}},created:function(){this.personInfoId=this.$route.params.id,this.personInfo=JSON.parse(sessionStorage.getItem("personInfo")),this.getMedicalList(),this.getSymptomList()},mounted:function(){},methods:{sfsymptomChange:function(e){var t=this;1==e?(this.issfsymptomName=!0,this.$http.get("/api/common/getDataList?dataType=1&sourceType=1").then(function(e){t.sfsymptomName=e.data}).catch(function(e){console.log(e)})):this.issfsymptomName=!1},reactionsChange:function(e){this.isReactions=1==e},smokingVolumeChange:function(e){this.isSmokingAmount=0==e},alcoholConsumptionChange:function(e){this.isAlcoholConsumptionAmount=0==e},appointmentRevisitChange:function(e){this.isAppointmentRevisit=1==e},healthGuidanceChange:function(e){this.ishealthGuidanceContent=1==e},complicationChange:function(e){var t=this;1==e?(this.iscomplication=!0,this.$http.get("/api/common/getDataList?dataType=2&sourceType=1").then(function(e){t.sfbfz=e.data}).catch(function(e){console.log(e)})):this.iscomplication=!1},addDosage:function(){this.form.visitRecordContent.dosages.push({value:"",frequency:0,dose:0})},removeDosage:function(e){var t;-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1),-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1)},bfzChange:function(e){var t=this;this.iscomplicationName=!!e,this.$http.get("/api/common/getDataList?dataType=2&sourceType=1&dataNum="+e).then(function(e){t.sfbfzName=e.data}).catch(function(e){console.log(e)})},onSubmit:function(){var e=this;if(void 0!==this.form.type){var t=this.form;if(t.patientId=this.personInfo.id,t.visitAuthor=this.$store.state.user.user.id,t.revisitTime){var a=t.revisitTime,o=a.getFullYear(),s=a.getMonth()+1,n=a.getDate();s<10&&(s="0"+s),n<10&&(n="0"+n);var i=o+"-"+s+"-"+n;t.revisitTime=i}t.complication instanceof Array&&(t.complication=this.form.complication.join(",")),t.symptom instanceof Array&&(t.symptom=this.form.symptom.join(","));var r=l()(t.visitRecordContent);t.visitRecordContent=r,this.$http.post("/api/visitRecord/insertVisitRecord",t).then(function(t){t.data?(e.$message.success("新增随访成功！"),setTimeout(function(){e.$router.replace({name:"EssentialInfo",params:{selectId:"sfjl"}})},1500)):e.$message.error("新增随访失败！")}).catch(function(t){e.$message.error("随访新增失败！"),console.log(t)})}else this.$message.warning("随访方式未选择！")},cancelBtn:function(){this.$router.go(-1)},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},getMedicalList:function(){var e=this;this.$http.get("/api/medicalSections/getMedicalSectionsList?hospitalId="+this.$store.state.user.user.hospitalId.id).then(function(t){e.sfdepartment=t.data}).catch(function(e){console.log(e)})},getSymptomList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=1").then(function(t){e.sfsymptom[1].children=t.data}).catch(function(e){console.log(e)})},getComplicationList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=2").then(function(t){e.sfbfz=t.data}).catch(function(e){console.log(e)})},handleClick:function(e,t){console.log(e,t)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("tab-header",{attrs:{personInfo:e.personInfo}}),e._v(" "),a("el-form",{ref:"form",staticClass:"createVisit_form",attrs:{model:e.form,"label-width":"135px"}},[a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访状态 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.sfstatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访结果 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}},e._l(e.sfresult,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访方式 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.sftype,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出院/转出情况:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.dischargeStatus,callback:function(t){e.$set(e.form,"dischargeStatus",t)},expression:"form.dischargeStatus"}},e._l(e.sfdischargeStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"本次随访评估:"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.assessment,callback:function(t){e.$set(e.form,"assessment",t)},expression:"form.assessment"}},e._l(e.sfassessment,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("h2",[e._v("体征")]),e._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{staticStyle:{"font-size":"16px","text-align":"center","line-height":"3em"},attrs:{span:4}},[e._v("血压")]),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"高压(mmHg)"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.hypertension,callback:function(t){e.$set(e.form.visitRecordContent,"hypertension",t)},expression:"form.visitRecordContent.hypertension"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"低压(mmHg)"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.hypotension,callback:function(t){e.$set(e.form.visitRecordContent,"hypotension",t)},expression:"form.visitRecordContent.hypotension"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{staticStyle:{"font-size":"16px","text-align":"center","line-height":"3em"},attrs:{span:4}},[e._v("血糖")]),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"餐前(mmol/l)"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.bmbs,callback:function(t){e.$set(e.form.visitRecordContent,"bmbs",t)},expression:"form.visitRecordContent.bmbs"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"餐后(mmol/l)"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.ambs,callback:function(t){e.$set(e.form.visitRecordContent,"ambs",t)},expression:"form.visitRecordContent.ambs"}})],1)],1)],1),e._v(" "),a("h2",[e._v("目前症状")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"有无症状 : "}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.sfsymptomChange},model:{value:e.form.visitRecordContent.issymptom,callback:function(t){e.$set(e.form.visitRecordContent,"issymptom",t)},expression:"form.visitRecordContent.issymptom"}},e._l(e.sfsymptom,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.issfsymptomName,expression:"issfsymptomName"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"请选择症状 : "}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.symptom,callback:function(t){e.$set(e.form,"symptom",t)},expression:"form.symptom"}},e._l(e.sfsymptomName,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("h2",[e._v("专科指导")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"个人卫生 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.visitRecordContent.hygiene,callback:function(t){e.$set(e.form.visitRecordContent,"hygiene",t)},expression:"form.visitRecordContent.hygiene"}},e._l(e.sfhygiene,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"母乳喂养 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.visitRecordContent.breastFeeding,callback:function(t){e.$set(e.form.visitRecordContent,"breastFeeding",t)},expression:"form.visitRecordContent.breastFeeding"}},e._l(e.sfbreastFeeding,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("h3",[e._v("新生儿护理")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"新生儿黄疸 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.visitRecordContent.jaundice,callback:function(t){e.$set(e.form.visitRecordContent,"jaundice",t)},expression:"form.visitRecordContent.jaundice"}},e._l(e.sfjaundice,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"脐带脱落 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.visitRecordContent.funicle,callback:function(t){e.$set(e.form.visitRecordContent,"funicle",t)},expression:"form.visitRecordContent.funicle"}},e._l(e.sffunicle,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"疫苗接种 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.visitRecordContent.vaccine,callback:function(t){e.$set(e.form.visitRecordContent,"vaccine",t)},expression:"form.visitRecordContent.vaccine"}},e._l(e.sfvaccine,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"皮肤清洁 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.visitRecordContent.skin,callback:function(t){e.$set(e.form.visitRecordContent,"skin",t)},expression:"form.visitRecordContent.skin"}},e._l(e.sfskin,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"睡眠情况 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.visitRecordContent.sleep,callback:function(t){e.$set(e.form.visitRecordContent,"sleep",t)},expression:"form.visitRecordContent.sleep"}},e._l(e.sfsleep,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"生活自理情况 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.visitRecordContent.life,callback:function(t){e.$set(e.form.visitRecordContent,"life",t)},expression:"form.visitRecordContent.life"}},e._l(e.sflife,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("h2",[e._v("饮食情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"营养均衡 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.visitRecordContent.nutrition,callback:function(t){e.$set(e.form.visitRecordContent,"nutrition",t)},expression:"form.visitRecordContent.nutrition"}},e._l(e.sfnutrition,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"饮食习惯 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.visitRecordContent.diet,callback:function(t){e.$set(e.form.visitRecordContent,"diet",t)},expression:"form.visitRecordContent.diet"}},e._l(e.sfdiet,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"水果蔬菜 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.visitRecordContent.fruits,callback:function(t){e.$set(e.form.visitRecordContent,"fruits",t)},expression:"form.visitRecordContent.fruits"}},e._l(e.sffruits,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"奶豆 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.visitRecordContent.milk,callback:function(t){e.$set(e.form.visitRecordContent,"milk",t)},expression:"form.visitRecordContent.milk"}},e._l(e.sfmilk,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"饮食次数 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.visitRecordContent.eat,callback:function(t){e.$set(e.form.visitRecordContent,"eat",t)},expression:"form.visitRecordContent.eat"}},e._l(e.sfeat,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"低盐饮食 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.visitRecordContent.lsalt,callback:function(t){e.$set(e.form.visitRecordContent,"lsalt",t)},expression:"form.visitRecordContent.lsalt"}},e._l(e.sflsalt,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"低脂饮食 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.visitRecordContent.lfat,callback:function(t){e.$set(e.form.visitRecordContent,"lfat",t)},expression:"form.visitRecordContent.lfat"}},e._l(e.sflfat,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(次/周)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionNum,callback:function(t){e.$set(e.form,"motionNum",t)},expression:"form.motionNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(分钟/次)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionLength,callback:function(t){e.$set(e.form,"motionLength",t)},expression:"form.motionLength"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"心理状况 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},e._l(e.sfregion,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("h2",[e._v("并发症")]),e._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否有并发症状 : "}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.complicationChange},model:{value:e.form.visitRecordContent.iscomplication,callback:function(t){e.$set(e.form.visitRecordContent,"iscomplication",t)},expression:"form.visitRecordContent.iscomplication"}},e._l(e.sfcomplication,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplication,expression:"iscomplication"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"并发症 : "}},[a("el-select",{on:{change:e.bfzChange},model:{value:e.form.visitRecordContent.bfzClassify,callback:function(t){e.$set(e.form.visitRecordContent,"bfzClassify",t)},expression:"form.visitRecordContent.bfzClassify"}},e._l(e.sfbfz,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplicationName,expression:"iscomplicationName"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"具体症状："}},[a("el-select",{attrs:{multiple:""},model:{value:e.form.complication,callback:function(t){e.$set(e.form,"complication",t)},expression:"form.complication"}},e._l(e.sfbfzName,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1)],1),e._v(" "),a("h2",[e._v("用药情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"依从性 : "}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.medicationCompliance,callback:function(t){e.$set(e.form,"medicationCompliance",t)},expression:"form.medicationCompliance"}},e._l(e.sfmedicationCompliance,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),e._l(e.form.visitRecordContent.dosages,function(t,o){return a("el-row",{key:o},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"药物名称"}},[a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"dosage.value"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"次/日"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"次"},model:{value:t.frequency,callback:function(a){e.$set(t,"frequency",a)},expression:"dosage.frequency"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"mg/次"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"mg"},model:{value:t.dose,callback:function(a){e.$set(t,"dose",a)},expression:"dosage.dose"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-button",{on:{click:function(a){return a.preventDefault(),e.removeDosage(t)}}},[e._v("删除")])],1)],1)],1)}),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-button",{on:{click:function(t){return t.preventDefault(),e.addDosage(t)}}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"药物不良反应 : "}},[a("el-select",{on:{change:e.reactionsChange},model:{value:e.form.visitRecordContent.reactions.value,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"value",t)},expression:"form.visitRecordContent.reactions.value"}},e._l(e.sfreactions,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isReactions,expression:"isReactions"}],attrs:{span:16}},[a("el-form-item",{attrs:{label:"不良反应："}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.visitRecordContent.reactions.desc,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"desc",t)},expression:"form.visitRecordContent.reactions.desc"}})],1)],1)],1),e._v(" "),a("h2",[e._v("健康教育知晓")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否进行健康指导 : "}},[a("el-select",{on:{change:e.healthGuidanceChange},model:{value:e.form.visitRecordContent.healthGuidance,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidance",t)},expression:"form.visitRecordContent.healthGuidance"}},e._l(e.sfhealthGuidance,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.ishealthGuidanceContent,expression:"ishealthGuidanceContent"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康指导内容  : "}},[a("el-select",{model:{value:e.form.visitRecordContent.healthGuidanceContent,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidanceContent",t)},expression:"form.visitRecordContent.healthGuidanceContent"}},e._l(e.sfhealthGuidanceContent,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1)],1),e._v(" "),a("h2",[e._v("随访记录")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已提醒复诊 : "}},[a("el-select",{model:{value:e.form.reminderRevisit,callback:function(t){e.$set(e.form,"reminderRevisit",t)},expression:"form.reminderRevisit"}},e._l(e.sfreminderRevisit,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已预约复诊 : "}},[a("el-select",{on:{change:e.appointmentRevisitChange},model:{value:e.form.appointmentRevisit,callback:function(t){e.$set(e.form,"appointmentRevisit",t)},expression:"form.appointmentRevisit"}},e._l(e.sfappointmentRevisit,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.isAppointmentRevisit,expression:"isAppointmentRevisit"}],attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"预约科室 : "}},[a("el-select",{model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}},e._l(e.sfdepartment,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"复诊时间 : "}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",required:""},model:{value:e.form.revisitTime,callback:function(t){e.$set(e.form,"revisitTime",t)},expression:"form.revisitTime"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康知晓度 : "}},[a("el-select",{model:{value:e.form.healthAwareness,callback:function(t){e.$set(e.form,"healthAwareness",t)},expression:"form.healthAwareness"}},e._l(e.sfhealthAwareness,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"满意度调研 : "}},[a("el-select",{model:{value:e.form.satisfactionSurvey,callback:function(t){e.$set(e.form,"satisfactionSurvey",t)},expression:"form.satisfactionSurvey"}},e._l(e.sfsatisfactionSurvey,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"随访备注 : "}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("完成随访")]),e._v(" "),a("el-button",{on:{click:e.cancelBtn}},[e._v("取消")])],1)],2)],1)},staticRenderFns:[]};var m=a("VU/8")(r,c,!1,function(e){a("ILzK")},"data-v-36d806a6",null);t.default=m.exports},tQ51:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("mvHQ"),l=a.n(o),s=a("kMct"),n=a("EMXe"),i=a("Q338"),r={components:{ElButton:n.a,ElCol:s.a,tabHeader:i.a},name:"default",data:function(){return{form:{visitAuthor:"",patientId:"",motionNum:0,motionLength:0,visitRecordContent:{reactions:{},dosages:[{value:"",frequency:0,dose:0}]}},sfstatus:[{value:"0",label:"未完成"},{value:"1",label:"已完成"}],sfresult:[{value:"0",label:"非有效随访"},{value:"1",label:"有效随访"},{value:"2",label:"勿访"},{value:"3",label:"终止随访"}],sftype:[{value:"1",label:"电话随访"},{value:"2",label:"在线随访"},{value:"3",label:"短信随访"}],sfdischargeStatus:[{value:"0",label:"其他市级医院"},{value:"1",label:"乡镇卫生医院治疗"},{value:"2",label:"村卫生室治疗"},{value:"3",label:"回家康复"},{value:"4",label:"痊愈回家"}],sfassessment:[{value:"1",label:"并发症"},{value:"2",label:"相关指标控制不住"},{value:"3",label:"控制不满意"},{value:"4",label:"控制满意"},{value:"5",label:"不良生活方式未改善"}],sfsymptom:[{value:"0",label:"无症状"},{value:"1",label:"有症状",children:[]}],sflifeAssessment:[{value:"0",label:"无改善"},{value:"1",label:"有改善"}],sfsmokingVolume:[{value:"0",label:"未戒烟"},{value:"1",label:"已戒烟"}],sfalcoholConsumption:[{value:"0",label:"未减量"},{value:"1",label:"已减量"}],sfregion:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfmedicalCompliance:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfcomplication:[{value:"0",label:"无并发症"},{value:"1",label:"有并发症 "}],sfbfz:[],sfbfzName:[],bfz:{multiple:!0},sfmedicationCompliance:[{value:"0",label:"不服药"},{value:"1",label:"部分依从"},{value:"2",label:"完全依从"}],sfreactions:[{value:"0",label:"无不良反应"},{value:"1",label:"有不良反应"}],sfhealthGuidance:[{value:"1",label:"是"},{value:"0",label:"否"}],sfhealthGuidanceContent:[{value:"1",label:"饮食指导"},{value:"2",label:"用药指导"},{value:"3",label:"注意事项"},{value:"4",label:"心理指导"},{value:"5",label:"睡眠指导"},{value:"6",label:"康复指导"},{value:"7",label:"戒烟限酒指导"}],sfreminderRevisit:[{value:"1",label:"已提醒"},{value:"0",label:"未提醒"}],sfappointmentRevisit:[{value:"1",label:"已预约"},{value:"0",label:"未预约"}],sfdepartment:[{value:"0",label:"否"},{value:"1",label:"是",children:[]}],sfhealthAwareness:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"},{value:"3",label:"优秀"}],sfsatisfactionSurvey:[{value:"0",label:"不满意"},{value:"1",label:"基本满意"},{value:"2",label:"满意"},{value:"3",label:"非常满意"}],isReactions:!1,isSmokingAmount:!1,isAlcoholConsumptionAmount:!1,isAppointmentRevisit:!1,ishealthGuidanceContent:!1,iscomplication:!1,iscomplicationName:!1,bfzClassify:"",complicationName:"",personInfoId:"",personInfo:{}}},created:function(){this.personInfoId=this.$route.params.id,this.personInfo=JSON.parse(sessionStorage.getItem("personInfo")),this.getMedicalList(),this.getSymptomList()},mounted:function(){},methods:{reactionsChange:function(e){this.isReactions=1==e},smokingVolumeChange:function(e){this.isSmokingAmount=0==e},alcoholConsumptionChange:function(e){this.isAlcoholConsumptionAmount=0==e},appointmentRevisitChange:function(e){this.isAppointmentRevisit=1==e},healthGuidanceChange:function(e){this.ishealthGuidanceContent=1==e},complicationChange:function(e){1==e?(this.iscomplication=!0,this.getComplicationList()):this.iscomplication=!1},addDosage:function(){this.form.visitRecordContent.dosages.push({value:"",frequency:0,dose:0})},removeDosage:function(e){var t;-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1),-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1)},bfzChange:function(e){var t=this;this.iscomplicationName=!!e,this.$http.get("/api/common/getDataList?dataType=2&dataNum="+e).then(function(e){t.sfbfzName=e.data}).catch(function(e){console.log(e)})},onSubmit:function(){var e=this;if(""!==this.form.type){var t=this.form;t.patientId=this.personInfo.id,t.visitAuthor=this.$store.state.user.user.id,t.motionLength=Number(this.form.motionLength),t.motionNum=Number(this.form.motionNum),t.healthGuidanceContent instanceof Array&&(t.healthGuidanceContent=this.form.healthGuidanceContent.join(",")),t.complication instanceof Array&&(t.complication=this.form.complication.join(","));var a=l()(t.visitRecordContent);t.visitRecordContent=a,this.$http.post("/api/visitRecord/insertVisitRecord",t).then(function(a){t.healthGuidanceContent=[],a.data?(e.$message.success("新增随访成功！"),setTimeout(function(){e.$router.replace({name:"EssentialInfo",params:{selectId:"sfjl"}})},1500)):e.$message.error("新增随访失败！")}).catch(function(a){e.$message.error("随访新增失败！"),t.healthGuidanceContent=[],console.log(a)})}else this.$message.warning("随访方式未选择！")},cancelBtn:function(){this.$router.go(-1)},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},handleChange:function(e){console.log(e)},getMedicalList:function(){var e=this;this.$http.get("/api/medicalSections/getMedicalSectionsList?hospitalId="+this.$store.state.user.user.hospitalId.id).then(function(t){e.sfdepartment[1].children=t.data}).catch(function(e){console.log(e)})},getSymptomList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=1").then(function(t){e.sfsymptom[1].children=t.data}).catch(function(e){console.log(e)})},getComplicationList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=2").then(function(t){e.sfbfz=t.data}).catch(function(e){console.log(e)})},handleClick:function(e,t){console.log(e,t)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("10心内科疾病模板")]),e._v(" "),a("tab-header",{attrs:{personInfo:e.personInfo}}),e._v(" "),a("el-form",{ref:"form",staticClass:"createVisit_form",attrs:{model:e.form,"label-width":"135px"}},[a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访状态 : "}},[a("el-cascader",{attrs:{options:e.sfstatus,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访结果 : "}},[a("el-cascader",{attrs:{options:e.sfresult,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访方式 : "}},[a("el-cascader",{attrs:{options:e.sftype,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出院/转出情况:"}},[a("el-cascader",{attrs:{placeholder:"请选择出院/转出情况",options:e.sfdischargeStatus,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.dischargeStatus,callback:function(t){e.$set(e.form,"dischargeStatus",t)},expression:"form.dischargeStatus"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"本次随访评估:"}},[a("el-cascader",{attrs:{options:e.sfassessment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.assessment,callback:function(t){e.$set(e.form,"assessment",t)},expression:"form.assessment"}})],1)],1)],1),e._v(" "),a("h2",[e._v("项目随访情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"请选择症状 : "}},[a("el-cascader",{attrs:{options:e.sfsymptom,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.symptom,callback:function(t){e.$set(e.form,"symptom",t)},expression:"form.symptom"}})],1)],1)],1),e._v(" "),a("h2",[e._v("生活方式")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"总体评估 : "}},[a("el-cascader",{attrs:{options:e.sflifeAssessment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.visitRecordContent.lifeAssessment,callback:function(t){e.$set(e.form.visitRecordContent,"lifeAssessment",t)},expression:"form.visitRecordContent.lifeAssessment"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"吸烟量 : "}},[a("el-cascader",{attrs:{options:e.sfsmokingVolume,props:{emitPath:!1}},on:{change:e.smokingVolumeChange},model:{value:e.form.smokingVolume,callback:function(t){e.$set(e.form,"smokingVolume",t)},expression:"form.smokingVolume"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isSmokingAmount,expression:"isSmokingAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"支/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.smokingAmount,callback:function(t){e.$set(e.form.visitRecordContent,"smokingAmount",t)},expression:"form.visitRecordContent.smokingAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"饮酒量 : "}},[a("el-cascader",{attrs:{options:e.sfalcoholConsumption,props:{emitPath:!1}},on:{change:e.alcoholConsumptionChange},model:{value:e.form.alcoholConsumption,callback:function(t){e.$set(e.form,"alcoholConsumption",t)},expression:"form.alcoholConsumption"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isAlcoholConsumptionAmount,expression:"isAlcoholConsumptionAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"ML/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.alcoholConsumptionAmount,callback:function(t){e.$set(e.form.visitRecordContent,"alcoholConsumptionAmount",t)},expression:"form.visitRecordContent.alcoholConsumptionAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"膳食脂肪"}},[a("el-input",{model:{value:e.form.dietaryFat,callback:function(t){e.$set(e.form,"dietaryFat",t)},expression:"form.dietaryFat"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(次/周)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionNum,callback:function(t){e.$set(e.form,"motionNum",t)},expression:"form.motionNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(分钟/次)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionLength,callback:function(t){e.$set(e.form,"motionLength",t)},expression:"form.motionLength"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"摄盐情况(克/天)"}},[a("el-input",{model:{value:e.form.saltUptake,callback:function(t){e.$set(e.form,"saltUptake",t)},expression:"form.saltUptake"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"心理调整 : "}},[a("el-cascader",{attrs:{options:e.sfregion,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"医从性 : "}},[a("el-cascader",{attrs:{options:e.sfmedicalCompliance,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.medicalCompliance,callback:function(t){e.$set(e.form,"medicalCompliance",t)},expression:"form.medicalCompliance"}})],1)],1)],1),e._v(" "),a("h2",[e._v("并发症")]),e._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否有并发症状 : "}},[a("el-cascader",{attrs:{options:e.sfcomplication},on:{change:e.complicationChange}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplication,expression:"iscomplication"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"并发症 : "}},[a("el-select",{on:{change:e.bfzChange},model:{value:e.bfzClassify,callback:function(t){e.bfzClassify=t},expression:"bfzClassify"}},e._l(e.sfbfz,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplicationName,expression:"iscomplicationName"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"具体症状："}},[a("el-cascader",{attrs:{options:e.sfbfzName,props:e.bfz},model:{value:e.form.complication,callback:function(t){e.$set(e.form,"complication",t)},expression:"form.complication"}})],1)],1)],1),e._v(" "),a("h2",[e._v("用药情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"依从性 : "}},[a("el-cascader",{attrs:{options:e.sfmedicationCompliance,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.medicationCompliance,callback:function(t){e.$set(e.form,"medicationCompliance",t)},expression:"form.medicationCompliance"}})],1)],1)],1),e._v(" "),e._l(e.form.visitRecordContent.dosages,function(t,o){return a("el-row",{key:o},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"药物名称"}},[a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"dosage.value"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"次/日"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"次"},model:{value:t.frequency,callback:function(a){e.$set(t,"frequency",a)},expression:"dosage.frequency"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"mg/次"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"mg"},model:{value:t.dose,callback:function(a){e.$set(t,"dose",a)},expression:"dosage.dose"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-button",{on:{click:function(a){return a.preventDefault(),e.removeDosage(t)}}},[e._v("删除")])],1)],1)],1)}),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-button",{on:{click:function(t){return t.preventDefault(),e.addDosage(t)}}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"药物不良反应 : "}},[a("el-cascader",{attrs:{options:e.sfreactions,props:{emitPath:!1}},on:{change:e.reactionsChange},model:{value:e.form.visitRecordContent.reactions.value,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"value",t)},expression:"form.visitRecordContent.reactions.value"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isReactions,expression:"isReactions"}],attrs:{span:16}},[a("el-form-item",{attrs:{label:"不良反应："}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.visitRecordContent.reactions.desc,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"desc",t)},expression:"form.visitRecordContent.reactions.desc"}})],1)],1)],1),e._v(" "),a("h2",[e._v("异常化验项目")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"白细胞"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.whiteBloodCell,callback:function(t){e.$set(e.form.visitRecordContent,"whiteBloodCell",t)},expression:"form.visitRecordContent.whiteBloodCell"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血小板"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.platelet,callback:function(t){e.$set(e.form.visitRecordContent,"platelet",t)},expression:"form.visitRecordContent.platelet"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钾"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodPotassium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodPotassium",t)},expression:"form.visitRecordContent.bloodPotassium"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"血钙"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.bloodCalcium,callback:function(t){e.$set(e.form.visitRecordContent,"bloodCalcium",t)},expression:"form.visitRecordContent.bloodCalcium"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"凝血"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.blood_coagulation,callback:function(t){e.$set(e.form.visitRecordContent,"blood_coagulation",t)},expression:"form.visitRecordContent.blood_coagulation"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"甘油三脂"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.threeFat,callback:function(t){e.$set(e.form.visitRecordContent,"threeFat",t)},expression:"form.visitRecordContent.threeFat"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"其他"}},[a("el-input",{attrs:{placeholder:"自定义"},model:{value:e.form.visitRecordContent.other,callback:function(t){e.$set(e.form.visitRecordContent,"other",t)},expression:"form.visitRecordContent.other"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"随访备注 : "}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("h2",[e._v("健康教育知晓")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否进行健康指导 : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidance,props:{emitPath:!1}},on:{change:e.healthGuidanceChange},model:{value:e.form.visitRecordContent.healthGuidance,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidance",t)},expression:"form.visitRecordContent.healthGuidance"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.ishealthGuidanceContent,expression:"ishealthGuidanceContent"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康指导内容  : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidanceContent,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.visitRecordContent.healthGuidanceContent,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidanceContent",t)},expression:"form.visitRecordContent.healthGuidanceContent"}})],1)],1)],1),e._v(" "),a("h2",[e._v("随访记录")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已提醒复诊 : "}},[a("el-cascader",{attrs:{options:e.sfreminderRevisit,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.reminderRevisit,callback:function(t){e.$set(e.form,"reminderRevisit",t)},expression:"form.reminderRevisit"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已预约复诊 : "}},[a("el-cascader",{attrs:{options:e.sfappointmentRevisit,props:{emitPath:!1}},on:{change:e.appointmentRevisitChange},model:{value:e.form.appointmentRevisit,callback:function(t){e.$set(e.form,"appointmentRevisit",t)},expression:"form.appointmentRevisit"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.isAppointmentRevisit,expression:"isAppointmentRevisit"}],attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"预约科室 : "}},[a("el-cascader",{attrs:{options:e.sfdepartment,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"复诊时间 : "}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",required:""},model:{value:e.form.revisitTime,callback:function(t){e.$set(e.form,"revisitTime",t)},expression:"form.revisitTime"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康知晓度 : "}},[a("el-cascader",{attrs:{options:e.sfhealthAwareness,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.healthAwareness,callback:function(t){e.$set(e.form,"healthAwareness",t)},expression:"form.healthAwareness"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"满意度调研 : "}},[a("el-cascader",{attrs:{options:e.sfsatisfactionSurvey,props:{emitPath:!1}},on:{change:e.handleChange},model:{value:e.form.satisfactionSurvey,callback:function(t){e.$set(e.form,"satisfactionSurvey",t)},expression:"form.satisfactionSurvey"}})],1)],1)],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("完成随访")]),e._v(" "),a("el-button",{on:{click:e.cancelBtn}},[e._v("取消")])],1)],2)],1)},staticRenderFns:[]};var m=a("VU/8")(r,c,!1,function(e){a("tpYq")},"data-v-75920382",null);t.default=m.exports},tpYq:function(e,t){},zHVV:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("mvHQ"),l=a.n(o),s=a("kMct"),n=a("EMXe"),i=a("Q338"),r={components:{ElButton:n.a,ElCol:s.a,tabHeader:i.a},name:"default",data:function(){return{form:{visitAuthor:"",patientId:"",motionNum:0,motionLength:0,visitRecordContent:{reactions:{},dosages:[{value:"",frequency:0,dose:0}],abnormal:{}}},sfstatus:[{value:"0",label:"未完成"},{value:"1",label:"已完成"}],sfresult:[{value:"0",label:"非有效随访"},{value:"1",label:"有效随访"},{value:"2",label:"勿访"},{value:"3",label:"终止随访"}],sftype:[{value:"1",label:"电话随访"},{value:"2",label:"在线随访"},{value:"3",label:"短信随访"}],sfdischargeStatus:[{value:"0",label:"其他市级医院"},{value:"1",label:"乡镇卫生医院治疗"},{value:"2",label:"村卫生室治疗"},{value:"3",label:"回家康复"},{value:"4",label:"痊愈回家"}],sfassessment:[{value:"1",label:"并发症"},{value:"2",label:"相关指标控制不住"},{value:"3",label:"控制不满意"},{value:"4",label:"控制满意"},{value:"5",label:"不良生活方式未改善"}],sfsymptom:[{value:"0",label:"无症状"},{value:"1",label:"有症状"}],sfsymptomName:[],sfabnormal:[{value:"0",label:"无"},{value:"1",label:"有"}],sfhygiene:[{value:"0",label:"会阴护理"},{value:"1",label:"刷牙"},{value:"2",label:"洗脚"},{value:"3",label:"淋浴"}],sfpsychology:[{value:"0",label:"愉悦"},{value:"1",label:"低落"},{value:"2",label:"感觉身心疲惫"}],sfbreastFeeding:[{value:"0",label:"纯母乳喂养"},{value:"1",label:"混合喂养"},{value:"2",label:"人工喂养"}],sfjaundice:[{value:"0",label:"已退"},{value:"1",label:"轻"},{value:"2",label:"重"}],sffunicle:[{value:"1",label:"是"},{value:"0",label:"否"}],sfvaccine:[{value:"1",label:"正常接种"},{value:"0",label:"需要补种"}],sfskin:[{value:"1",label:"是"},{value:"0",label:"否"}],sfsleep:[{value:"2",label:"良好"},{value:"1",label:"一般"},{value:"0",label:"差"}],sflife:[{value:"0",label:"完全自理"},{value:"1",label:"部分自理"},{value:"2",label:"完全不能自理"}],sfnutrition:[{value:"1",label:"是"},{value:"0",label:"否"}],sfdiet:[{value:"0",label:"凉"},{value:"1",label:"热"},{value:"2",label:"无渣饮食"},{value:"3",label:"低脂饮食"},{value:"4",label:"普通饮食"},{value:"5",label:"其他"}],sflifeAssessment:[{value:"0",label:"无改善"},{value:"1",label:"有改善"}],sfsmokingVolume:[{value:"0",label:"未戒烟"},{value:"1",label:"已戒烟"}],sfalcoholConsumption:[{value:"0",label:"未减量"},{value:"1",label:"已减量"}],sfregion:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfmedicalCompliance:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"}],sfcomplication:[{value:"0",label:"无并发症"},{value:"1",label:"有并发症 "}],sfbfz:[],sfbfzName:[],sfmedicationCompliance:[{value:"0",label:"不服药"},{value:"1",label:"部分依从"},{value:"2",label:"完全依从"}],sfreactions:[{value:"0",label:"无不良反应"},{value:"1",label:"有不良反应"}],sfhealthGuidance:[{value:"1",label:"是"},{value:"0",label:"否"}],sfhealthGuidanceContent:[{value:"1",label:"饮食指导"},{value:"2",label:"用药指导"},{value:"3",label:"注意事项"},{value:"4",label:"心理指导"},{value:"5",label:"睡眠指导"},{value:"6",label:"康复指导"},{value:"7",label:"戒烟限酒指导"}],sfreminderRevisit:[{value:"1",label:"已提醒"},{value:"0",label:"未提醒"}],sfappointmentRevisit:[{value:"1",label:"已预约"},{value:"0",label:"未预约"}],sfdepartment:[{value:"0",label:"否"},{value:"1",label:"是",children:[]}],sfhealthAwareness:[{value:"0",label:"差"},{value:"1",label:"一般"},{value:"2",label:"良好"},{value:"3",label:"优秀"}],sfsatisfactionSurvey:[{value:"0",label:"不满意"},{value:"1",label:"基本满意"},{value:"2",label:"满意"},{value:"3",label:"非常满意"}],issfsymptomName:!1,isReactions:!1,isSmokingAmount:!1,isAlcoholConsumptionAmount:!1,isAppointmentRevisit:!1,ishealthGuidanceContent:!1,iscomplication:!1,iscomplicationName:!1,isAbnormal:!1,bfzClassify:"",complicationName:"",personInfoId:"",personInfo:{}}},created:function(){this.personInfoId=this.$route.params.id,this.personInfo=JSON.parse(sessionStorage.getItem("personInfo")),this.getMedicalList(),this.getSymptomList()},mounted:function(){},methods:{sfsymptomChange:function(e){var t=this;1==e?(this.issfsymptomName=!0,this.$http.get("/api/common/getDataList?dataType=1&sourceType=1").then(function(e){t.sfsymptomName=e.data}).catch(function(e){console.log(e)})):this.issfsymptomName=!1},abnormalChange:function(e){this.isAbnormal=1==e},reactionsChange:function(e){this.isReactions=1==e},smokingVolumeChange:function(e){this.isSmokingAmount=0==e},alcoholConsumptionChange:function(e){this.isAlcoholConsumptionAmount=0==e},appointmentRevisitChange:function(e){this.isAppointmentRevisit=1==e},healthGuidanceChange:function(e){this.ishealthGuidanceContent=1==e},complicationChange:function(e){var t=this;1==e?(this.iscomplication=!0,this.$http.get("/api/common/getDataList?dataType=2&sourceType=1").then(function(e){t.sfbfz=e.data}).catch(function(e){console.log(e)})):this.iscomplication=!1},addDosage:function(){this.form.visitRecordContent.dosages.push({value:"",frequency:0,dose:0})},removeDosage:function(e){var t;-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1),-1!==(t=this.form.visitRecordContent.dosages.indexOf(e))&&this.form.visitRecordContent.dosages.splice(t,1)},bfzChange:function(e){var t=this;this.iscomplicationName=!!e,this.$http.get("/api/common/getDataList?dataType=2&sourceType=1&dataNum="+e).then(function(e){t.sfbfzName=e.data}).catch(function(e){console.log(e)})},onSubmit:function(){if(""!==this.form.type){var e=this.form;e.patientId=this.personInfo.id,e.visitAuthor=this.$store.state.user.user.id,e.complication instanceof Array&&(e.complication=this.form.complication.join(",")),e.symptom instanceof Array&&(e.symptom=this.form.symptom.join(","));var t=l()(e.visitRecordContent);e.visitRecordContent=t}else this.$message.warning("随访方式未选择！")},cancelBtn:function(){this.$router.go(-1)},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},getMedicalList:function(){var e=this;this.$http.get("/api/medicalSections/getMedicalSectionsList?hospitalId="+this.$store.state.user.user.hospitalId.id).then(function(t){e.sfdepartment[1].children=t.data}).catch(function(e){console.log(e)})},getSymptomList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=1").then(function(t){e.sfsymptom[1].children=t.data}).catch(function(e){console.log(e)})},getComplicationList:function(){var e=this;this.$http.get("/api/common/getDataList?dataType=2").then(function(t){e.sfbfz=t.data}).catch(function(e){console.log(e)})},handleClick:function(e,t){console.log(e,t)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("3肝病模板")]),e._v(" "),a("tab-header",{attrs:{personInfo:e.personInfo}}),e._v(" "),a("el-form",{ref:"form",staticClass:"createVisit_form",attrs:{model:e.form,"label-width":"135px"}},[a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访状态 : "}},[a("el-cascader",{attrs:{options:e.sfstatus,props:{emitPath:!1}},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访结果 : "}},[a("el-cascader",{attrs:{options:e.sfresult,props:{emitPath:!1}},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"随访方式 : "}},[a("el-cascader",{attrs:{options:e.sftype,props:{emitPath:!1}},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出院/转出情况:"}},[a("el-cascader",{attrs:{placeholder:"请选择出院/转出情况",options:e.sfdischargeStatus,props:{emitPath:!1}},model:{value:e.form.dischargeStatus,callback:function(t){e.$set(e.form,"dischargeStatus",t)},expression:"form.dischargeStatus"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"本次随访评估:"}},[a("el-cascader",{attrs:{options:e.sfassessment,props:{emitPath:!1}},model:{value:e.form.assessment,callback:function(t){e.$set(e.form,"assessment",t)},expression:"form.assessment"}})],1)],1)],1),e._v(" "),a("h2",[e._v("体征")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{staticStyle:{"font-size":"16px","text-align":"center","line-height":"3em"},attrs:{span:8}},[e._v("血压")]),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"高压(mmHg)"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.hypertension,callback:function(t){e.$set(e.form.visitRecordContent,"hypertension",t)},expression:"form.visitRecordContent.hypertension"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"低压(mmHg)"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.hypotension,callback:function(t){e.$set(e.form.visitRecordContent,"hypotension",t)},expression:"form.visitRecordContent.hypotension"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{staticStyle:{"font-size":"16px","text-align":"center","line-height":"3em"},attrs:{span:8}},[e._v("化验数值")]),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"谷丙转氨酶(ALT)"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.alt,callback:function(t){e.$set(e.form.visitRecordContent,"alt",t)},expression:"form.visitRecordContent.alt"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"谷草转氨酶(AST)"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.ast,callback:function(t){e.$set(e.form.visitRecordContent,"ast",t)},expression:"form.visitRecordContent.ast"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"异常指标 : "}},[a("el-cascader",{attrs:{options:e.sfabnormal,props:{emitPath:!1}},on:{change:e.abnormalChange},model:{value:e.form.visitRecordContent.abnormal.value,callback:function(t){e.$set(e.form.visitRecordContent.abnormal,"value",t)},expression:"form.visitRecordContent.abnormal.value"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isAbnormal,expression:"isAbnormal"}],attrs:{span:16}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.visitRecordContent.abnormal.desc,callback:function(t){e.$set(e.form.visitRecordContent.abnormal,"desc",t)},expression:"form.visitRecordContent.abnormal.desc"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"体温(℃)"}},[a("el-input-number",{attrs:{min:0,max:50},model:{value:e.form.visitRecordContent.temperature,callback:function(t){e.$set(e.form.visitRecordContent,"temperature",t)},expression:"form.visitRecordContent.temperature"}})],1)],1)],1),e._v(" "),a("h2",[e._v("目前症状")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"有无症状 : "}},[a("el-cascader",{attrs:{options:e.sfsymptom},on:{change:e.sfsymptomChange}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.issfsymptomName,expression:"issfsymptomName"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"请选择症状 : "}},[a("el-cascader",{attrs:{options:e.sfsymptomName,props:{multiple:!0}},model:{value:e.form.symptom,callback:function(t){e.$set(e.form,"symptom",t)},expression:"form.symptom"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"生活自理情况 : "}},[a("el-cascader",{attrs:{options:e.sflife,props:{emitPath:!1}},model:{value:e.form.visitRecordContent.life,callback:function(t){e.$set(e.form.visitRecordContent,"life",t)},expression:"form.visitRecordContent.life"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"吸烟量 : "}},[a("el-cascader",{attrs:{options:e.sfsmokingVolume,props:{emitPath:!1}},on:{change:e.smokingVolumeChange},model:{value:e.form.smokingVolume,callback:function(t){e.$set(e.form,"smokingVolume",t)},expression:"form.smokingVolume"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isSmokingAmount,expression:"isSmokingAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"支/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.smokingAmount,callback:function(t){e.$set(e.form.visitRecordContent,"smokingAmount",t)},expression:"form.visitRecordContent.smokingAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"饮酒量 : "}},[a("el-cascader",{attrs:{options:e.sfalcoholConsumption,props:{emitPath:!1}},on:{change:e.alcoholConsumptionChange},model:{value:e.form.alcoholConsumption,callback:function(t){e.$set(e.form,"alcoholConsumption",t)},expression:"form.alcoholConsumption"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isAlcoholConsumptionAmount,expression:"isAlcoholConsumptionAmount"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"ML/天"}},[a("el-input-number",{attrs:{min:0,max:9999},model:{value:e.form.visitRecordContent.alcoholConsumptionAmount,callback:function(t){e.$set(e.form.visitRecordContent,"alcoholConsumptionAmount",t)},expression:"form.visitRecordContent.alcoholConsumptionAmount"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"睡眠情况 : "}},[a("el-cascader",{attrs:{options:e.sfsleep,props:{emitPath:!1}},model:{value:e.form.visitRecordContent.sleep,callback:function(t){e.$set(e.form.visitRecordContent,"sleep",t)},expression:"form.visitRecordContent.sleep"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"饮食情况 : "}},[a("el-cascader",{attrs:{options:e.sfdiet,props:{multiple:!0}},model:{value:e.form.visitRecordContent.diet,callback:function(t){e.$set(e.form.visitRecordContent,"diet",t)},expression:"form.visitRecordContent.diet"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(次/周)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionNum,callback:function(t){e.$set(e.form,"motionNum",t)},expression:"form.motionNum"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"运动(分钟/次)"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"运动(次/周)"},model:{value:e.form.motionLength,callback:function(t){e.$set(e.form,"motionLength",t)},expression:"form.motionLength"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"心理状况 : "}},[a("el-cascader",{attrs:{options:e.sfregion,props:{emitPath:!1}},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}})],1)],1)],1),e._v(" "),a("h2",[e._v("专科指导")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"个人卫生 : "}},[a("el-cascader",{attrs:{options:e.sfhygiene,props:{emitPath:!1}},model:{value:e.form.visitRecordContent.hygiene,callback:function(t){e.$set(e.form.visitRecordContent,"hygiene",t)},expression:"form.visitRecordContent.hygiene"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"心理状况 : "}},[a("el-cascader",{attrs:{options:e.sfpsychology,props:{emitPath:!1}},model:{value:e.form.visitRecordContent.psychology,callback:function(t){e.$set(e.form.visitRecordContent,"psychology",t)},expression:"form.visitRecordContent.psychology"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"母乳喂养 : "}},[a("el-cascader",{attrs:{options:e.sfbreastFeeding,props:{emitPath:!1}},model:{value:e.form.visitRecordContent.breastFeeding,callback:function(t){e.$set(e.form.visitRecordContent,"breastFeeding",t)},expression:"form.visitRecordContent.breastFeeding"}})],1)],1)],1),e._v(" "),a("h2",[e._v("用药情况")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"依从性 : "}},[a("el-cascader",{attrs:{options:e.sfmedicationCompliance,props:{emitPath:!1}},model:{value:e.form.medicationCompliance,callback:function(t){e.$set(e.form,"medicationCompliance",t)},expression:"form.medicationCompliance"}})],1)],1)],1),e._v(" "),e._l(e.form.visitRecordContent.dosages,function(t,o){return a("el-row",{key:o},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"药物名称"}},[a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"dosage.value"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"次/日"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"次"},model:{value:t.frequency,callback:function(a){e.$set(t,"frequency",a)},expression:"dosage.frequency"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"mg/次"}},[a("el-input-number",{attrs:{min:0,max:9999,label:"mg"},model:{value:t.dose,callback:function(a){e.$set(t,"dose",a)},expression:"dosage.dose"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",[a("el-button",{on:{click:function(a){return a.preventDefault(),e.removeDosage(t)}}},[e._v("删除")])],1)],1)],1)}),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-button",{on:{click:function(t){return t.preventDefault(),e.addDosage(t)}}},[e._v("新增")])],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"药物不良反应 : "}},[a("el-cascader",{attrs:{options:e.sfreactions,props:{emitPath:!1}},on:{change:e.reactionsChange},model:{value:e.form.visitRecordContent.reactions.value,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"value",t)},expression:"form.visitRecordContent.reactions.value"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isReactions,expression:"isReactions"}],attrs:{span:16}},[a("el-form-item",{attrs:{label:"不良反应："}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.form.visitRecordContent.reactions.desc,callback:function(t){e.$set(e.form.visitRecordContent.reactions,"desc",t)},expression:"form.visitRecordContent.reactions.desc"}})],1)],1)],1),e._v(" "),a("h2",[e._v("并发症")]),e._v(" "),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否有并发症状 : "}},[a("el-cascader",{attrs:{options:e.sfcomplication},on:{change:e.complicationChange}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplication,expression:"iscomplication"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"并发症 : "}},[a("el-select",{on:{change:e.bfzChange},model:{value:e.bfzClassify,callback:function(t){e.bfzClassify=t},expression:"bfzClassify"}},e._l(e.sfbfz,function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})}),1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.iscomplicationName,expression:"iscomplicationName"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"具体症状："}},[a("el-cascader",{attrs:{options:e.sfbfzName,props:{multiple:!0}},model:{value:e.form.complication,callback:function(t){e.$set(e.form,"complication",t)},expression:"form.complication"}})],1)],1)],1),e._v(" "),a("h2",[e._v("随访记录")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已提醒复诊 : "}},[a("el-cascader",{attrs:{options:e.sfreminderRevisit,props:{emitPath:!1}},model:{value:e.form.reminderRevisit,callback:function(t){e.$set(e.form,"reminderRevisit",t)},expression:"form.reminderRevisit"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"已预约复诊 : "}},[a("el-cascader",{attrs:{options:e.sfappointmentRevisit,props:{emitPath:!1}},on:{change:e.appointmentRevisitChange},model:{value:e.form.appointmentRevisit,callback:function(t){e.$set(e.form,"appointmentRevisit",t)},expression:"form.appointmentRevisit"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.isAppointmentRevisit,expression:"isAppointmentRevisit"}],attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"预约科室 : "}},[a("el-cascader",{attrs:{options:e.sfdepartment,props:{emitPath:!1}},model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"复诊时间 : "}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",required:""},model:{value:e.form.revisitTime,callback:function(t){e.$set(e.form,"revisitTime",t)},expression:"form.revisitTime"}})],1)],1)],1),e._v(" "),a("h2",[e._v("健康教育知晓")]),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"是否进行健康指导 : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidance,props:{emitPath:!1}},on:{change:e.healthGuidanceChange},model:{value:e.form.visitRecordContent.healthGuidance,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidance",t)},expression:"form.visitRecordContent.healthGuidance"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.ishealthGuidanceContent,expression:"ishealthGuidanceContent"}],attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康指导内容  : "}},[a("el-cascader",{attrs:{options:e.sfhealthGuidanceContent,props:{emitPath:!1}},model:{value:e.form.visitRecordContent.healthGuidanceContent,callback:function(t){e.$set(e.form.visitRecordContent,"healthGuidanceContent",t)},expression:"form.visitRecordContent.healthGuidanceContent"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:80}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"健康知晓度 : "}},[a("el-cascader",{attrs:{options:e.sfhealthAwareness,props:{emitPath:!1}},model:{value:e.form.healthAwareness,callback:function(t){e.$set(e.form,"healthAwareness",t)},expression:"form.healthAwareness"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"满意度调研 : "}},[a("el-cascader",{attrs:{options:e.sfsatisfactionSurvey,props:{emitPath:!1}},model:{value:e.form.satisfactionSurvey,callback:function(t){e.$set(e.form,"satisfactionSurvey",t)},expression:"form.satisfactionSurvey"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"随访备注 : "}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"success"},on:{click:e.onSubmit}},[e._v("完成随访")]),e._v(" "),a("el-button",{on:{click:e.cancelBtn}},[e._v("取消")])],1)],2)],1)},staticRenderFns:[]};var m=a("VU/8")(r,c,!1,function(e){a("iwPj")},"data-v-eebd2b52",null);t.default=m.exports}});